(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{51:function(e,t,a){},52:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a.n(c),n=a(30),s=a.n(n),i=a(9),o=a(25),d=a(19),l=a(50),b=a(56),j=(a(65),a(21)),u=a(1),O="SIGNUP_REQUEST",p="SIGNUP_SUCCESS",m="SIGNUP_ERROR",f="LOGIN_REQUEST",h="LOGIN_SUCCESS",x="LOGIN_ERROR",g="FORGOT_PASSWORD_REQUEST",v="FORGOT_PASSWORD_SUCCESS",y="FORGOT_PASSWORD_ERROR",w="CHANGE_PASSWORD_REQUEST",S="CHANGE_PASSWORD_SUCCESS",E="CHANGE_PASSWORD_ERROR",_="RESET_PASSWORD_REQUEST",N="RESET_PASSWORD_SUCCESS",C="RESET_PASSWORD_ERROR",R={loading:!1,error:"",success:!1},D={signup:Object(u.a)({},R),login:Object(u.a)({},R),forgotPassword:Object(u.a)({},R),changePassword:Object(u.a)({},R),resetPassword:Object(u.a)({},R)},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(u.a)(Object(u.a)({},e),{},{signup:Object(u.a)(Object(u.a)({},e.signup),{},{loading:!0})});case p:return Object(u.a)(Object(u.a)({},e),{},{signup:Object(u.a)(Object(u.a)({},e.signup),{},{loading:!1,success:!0})});case m:return Object(u.a)(Object(u.a)({},e),{},{signup:Object(u.a)(Object(u.a)({},e.signup),{},{loading:!1,error:t.error})});case f:return Object(u.a)(Object(u.a)({},e),{},{login:Object(u.a)(Object(u.a)({},e.login),{},{loading:!0})});case h:return Object(u.a)(Object(u.a)({},e),{},{login:Object(u.a)(Object(u.a)({},e.login),{},{loading:!1,success:!0})});case x:return Object(u.a)(Object(u.a)({},e),{},{login:Object(u.a)(Object(u.a)({},e.login),{},{loading:!1,error:t.error})});case g:return Object(u.a)(Object(u.a)({},e),{},{forgotPassword:Object(u.a)(Object(u.a)({},e.forgotPassword),{},{loading:!0})});case v:return Object(u.a)(Object(u.a)({},e),{},{forgotPassword:Object(u.a)(Object(u.a)({},e.forgotPassword),{},{loading:!1,success:!0})});case y:return Object(u.a)(Object(u.a)({},e),{},{forgotPassword:Object(u.a)(Object(u.a)({},e.forgotPassword),{},{loading:!1,error:t.error})});case _:return Object(u.a)(Object(u.a)({},e),{},{resetPassword:Object(u.a)(Object(u.a)({},e.resetPassword),{},{loading:!0})});case N:return Object(u.a)(Object(u.a)({},e),{},{resetPassword:Object(u.a)(Object(u.a)({},e.resetPassword),{},{loading:!1,success:!0})});case C:return Object(u.a)(Object(u.a)({},e),{},{resetPassword:Object(u.a)(Object(u.a)({},e.resetPassword),{},{loading:!1,error:t.error})});case w:return Object(u.a)(Object(u.a)({},e),{},{changePassword:Object(u.a)(Object(u.a)({},e.changePassword),{},{loading:!0})});case S:return Object(u.a)(Object(u.a)({},e),{},{changePassword:Object(u.a)(Object(u.a)({},e.changePassword),{},{loading:!1,success:!0})});case E:return Object(u.a)(Object(u.a)({},e),{},{changePassword:Object(u.a)(Object(u.a)({},e.changePassword),{},{loading:!1,error:t.error})});default:return e}},T="GET_DISTRICT_REQUEST",P="GET_DISTRICT_SUCCESS",I="GET_DISTRICT_ERROR",A="UPDATE_DISTRICT_REQUEST",U="UPDATE_DISTRICT_SUCCESS",L="UPDATE_DISTRICT_ERROR",F="DELETE_DISTRICT_REQUEST",G="DELETE_DISTRICT_SUCCESS",q="DELETE_DISTRICT_ERROR",M="FETCH_DISTRICTS_REQUEST",H="FETCH_DISTRICTS_SUCCESS",Q="FETCH_DISTRICTS_ERROR",W="CREATE_DISTRICT_REQUEST",B="CREATE_DISTRICT_SUCCESS",V="CREATE_DISTRICT_ERROR",K="GENERATE_CODE_REQUEST",Y="GENERATE_CODE_SUCCESS",z="GENERATE_CODE_ERROR",J={loading:!1,error:"",success:!1},X={districts:Object(u.a)(Object(u.a)({},J),{},{data:[]}),getDistrict:Object(u.a)(Object(u.a)({},J),{},{data:null}),updateDistrict:Object(u.a)(Object(u.a)({},J),{},{data:null}),deleteDistrict:Object(u.a)({},J),createDistrict:Object(u.a)(Object(u.a)({},J),{},{data:null}),generateCode:Object(u.a)(Object(u.a)({},J),{},{data:null})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(u.a)(Object(u.a)({},e),{},{getDistrict:Object(u.a)(Object(u.a)({},e.getDistrict),{},{loading:!0})});case P:return Object(u.a)(Object(u.a)({},e),{},{getDistrict:Object(u.a)(Object(u.a)({},e.getDistrict),{},{loading:!1,success:!0,data:t.payload})});case I:return Object(u.a)(Object(u.a)({},e),{},{getDistrict:Object(u.a)(Object(u.a)({},e.getDistrict),{},{loading:!1,error:t.error})});case A:return Object(u.a)(Object(u.a)({},e),{},{updateDistrict:Object(u.a)(Object(u.a)({},e.updateDistrict),{},{loading:!0})});case U:var a=e.districts.data.filter((function(e){return e.id!=t.payload.id}));return a.push(t.payload),Object(u.a)(Object(u.a)({},e),{},{updateDistrict:Object(u.a)(Object(u.a)({},e.updateDistrict),{},{loading:!1,success:!0,data:t.payload}),districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!1,success:!0,data:a})});case L:return Object(u.a)(Object(u.a)({},e),{},{updateDistrict:Object(u.a)(Object(u.a)({},e.updateDistrict),{},{loading:!1,error:t.error})});case F:return Object(u.a)(Object(u.a)({},e),{},{deleteDistrict:Object(u.a)(Object(u.a)({},e.deleteDistrict),{},{loading:!0})});case G:var c=e.districts.data.filter((function(e){return e.id!=t.payload}));return Object(u.a)(Object(u.a)({},e),{},{deleteDistrict:Object(u.a)(Object(u.a)({},e.deleteDistrict),{},{loading:!1,success:!0}),districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!1,success:!0,data:c})});case q:return Object(u.a)(Object(u.a)({},e),{},{deleteDistrict:Object(u.a)(Object(u.a)({},e.deleteDistrict),{},{loading:!1,error:t.error})});case M:return Object(u.a)(Object(u.a)({},e),{},{districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!0})});case H:return Object(u.a)(Object(u.a)({},e),{},{districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!1,success:!0,data:t.payload})});case Q:return Object(u.a)(Object(u.a)({},e),{},{districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!1,error:t.error})});case W:return Object(u.a)(Object(u.a)({},e),{},{createDistrict:Object(u.a)(Object(u.a)({},e.createDistrict),{},{loading:!0})});case B:var r=e.districts.data;return r.push(t.payload),Object(u.a)(Object(u.a)({},e),{},{createDistrict:Object(u.a)(Object(u.a)({},e.createDistrict),{},{loading:!1,success:!0,data:t.payload}),districts:Object(u.a)(Object(u.a)({},e.districts),{},{data:r})});case V:return Object(u.a)(Object(u.a)({},e),{},{createDistrict:Object(u.a)(Object(u.a)({},e.createDistrict),{},{loading:!1,error:t.error})});case K:return Object(u.a)(Object(u.a)({},e),{},{generateCode:Object(u.a)(Object(u.a)({},e.generateCode),{},{loading:!0})});case Y:return Object(u.a)(Object(u.a)({},e),{},{generateCode:Object(u.a)(Object(u.a)({},e.generateCode),{},{loading:!1,success:!0,data:t.payload})});case z:return Object(u.a)(Object(u.a)({},e),{},{generateCode:Object(u.a)(Object(u.a)({},e.generateCode),{},{loading:!1,error:t.error})});default:return e}},$="GET_USER_REQUEST",ee="GET_USER_SUCCESS",te="GET_USER_ERROR",ae="FETCH_USERS_REQUEST",ce="FETCH_USERS_SUCCESS",re="FETCH_USERS_ERROR",ne={loading:!1,error:"",success:!1},se={user:Object(u.a)(Object(u.a)({},ne),{},{data:null}),users:Object(u.a)(Object(u.a)({},ne),{},{data:[]})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{loading:!0})});case ee:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{loading:!1,success:!0,data:t.payload})});case te:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{loading:!1,error:t.error})});case ae:return Object(u.a)(Object(u.a)({},e),{},{users:Object(u.a)(Object(u.a)({},e.user),{},{loading:!0})});case ce:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.users),{},{loading:!1,success:!0,data:t.payload})});case re:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.users),{},{loading:!1,error:t.error})});default:return e}},oe="FETCH_ADMINS_REQUEST",de="FETCH_ADMINS_SUCCESS",le="FETCH_ADMINS_ERROR",be="DISTRIC_EMPLOYEES_REQUEST",je="DISTRIC_EMPLOYEES_SUCCESS",ue="DISTRIC_EMPLOYEES_FAILURE",Oe={admins:Object(u.a)(Object(u.a)({},{loading:!1,error:"",success:!1}),{},{data:[]})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!0})});case je:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!1,success:!0,data:t.payload})});case ue:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!1,error:t.error})});case oe:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!0})});case de:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!1,success:!0,data:t.payload})});case le:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!1,error:t.error})});default:return e}},me=a(4),fe=a.n(me),he=a(5),xe=a(12),ge=a(16),ve=a.n(ge),ye=a(37),we=a.n(ye),Se=a(55),Ee=Object(Se.setupCache)({maxAge:864e5}),_e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL,Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return ve.a.get(e)},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csrftoken";return ve.a.get(e)},Re=we.a.create({baseURL:_e,timeout:8e4,adapter:Ee.adapter});Re.interceptors.request.use(function(){var e=Object(xe.a)(fe.a.mark((function e(t){var a,c;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ne("token"),c=Ce("csrftoken"),a&&(t.headers.Authorization="Token ".concat(a)),t.headers["X-CSRFToken"]=c,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),Re.interceptors.response.use((function(e){return e.data}),(function(e){return e&&e.response&&401===e.response.status&&console.error("ERR",e),Promise.reject(e)}));var De=a(23),ke=function(e,t){var a;if(500===(null===(a=e.response)||void 0===a?void 0:a.status))return"Please contact support team.";var c=e.response&&e.response.data;return c?Te(c):"Something went wrong, please try again later"},Te=function(e){var t=[];return Object.keys(e).forEach((function(a){return t=[].concat(Object(De.a)(t),Object(De.a)(function(e){if(!Object.keys(e).length||"string"===typeof e)return e;var t=[];return Array.isArray(e)&&e.length?t=[e[0].message].concat(Object(De.a)(e)):Object.keys(e).forEach((function(a){return t=[].concat(Object(De.a)(t),[e[a]])})),t.filter((function(e){return e}))}(e[a])))})),t},Pe=fe.a.mark(Ge),Ie=fe.a.mark(He),Ae=fe.a.mark(Be),Ue=fe.a.mark(Ye);function Le(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(xe.a)(fe.a.mark((function e(t){var a,c,r,n,s,i,o;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.first_name,c=t.last_name,r=t.email,n=t.phone_no,s=t.password,i=t.confirm_password,o=t.employer_code,e.next=3,Re.post("rest-auth/registration/",{first_name:a,last_name:c,email:r,phone:n,password1:s,password2:i,employer_code:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){var t;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(he.b)(Le,t);case 4:if(!a.sent){a.next=8;break}return a.next=8,Object(he.c)({type:p});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,Object(he.c)({type:m,error:ke(a.t0)});case 14:case"end":return a.stop()}}),Pe,null,[[1,10]])}function qe(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(xe.a)(fe.a.mark((function e(t){var a,c;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,e.next=3,Re.post("rest-auth/login/",{email:a,password:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){var t,a,c;return fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(he.b)(qe,t);case 4:if(!(a=r.sent).key){r.next=10;break}return c={path:"/"},ve.a.set("token",a.key,c),r.next=10,Object(he.c)({type:h});case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(he.c)({type:x,error:ke(r.t0)});case 16:case"end":return r.stop()}}),Ie,null,[[1,12]])}function Qe(e){return We.apply(this,arguments)}function We(){return(We=Object(xe.a)(fe.a.mark((function e(t){var a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,e.next=3,Re.post("rest-auth/password/reset/",{email:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){var t,a,c;return fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(he.b)(Qe,{email:t});case 4:if(a=r.sent,c=a.data,200!==a.status||"OK"!==c.status){r.next=10;break}return r.next=10,Object(he.c)({type:v});case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(he.c)({type:y,error:ke(r.t0)});case 16:case"end":return r.stop()}}),Ae,null,[[1,12]])}function Ve(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(xe.a)(fe.a.mark((function e(t){var a,c,r,n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uuid,c=t.token,r=t.password,n=t.confirm_password,e.next=3,Re.post("/rest-auth/password/reset/confirm/",{uuid:a,token:c,new_password1:r,new_password2:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){var t,a;return fe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(he.b)(Ve,t);case 4:if(a=c.sent,200!==a.status){c.next=9;break}return c.next=9,Object(he.c)({type:N});case 9:c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(he.c)({type:C,error:ke(c.t0)});case 15:case"end":return c.stop()}}),Ue,null,[[1,11]])}var ze=Object(he.a)([Object(he.d)(O,Ge),Object(he.d)(f,He),Object(he.d)(g,Be),Object(he.d)(_,Ye)]),Je=function(){return!!ve.a.get("token")},Xe=function(){return{headers:{Authorization:"Basic "+ve.a.get("token")}}},Ze=fe.a.mark(st),$e=fe.a.mark(dt),et=fe.a.mark(jt),tt=fe.a.mark(pt),at=fe.a.mark(ht),ct=fe.a.mark(vt);function rt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(xe.a)(fe.a.mark((function e(t){var a;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,Re.get("/api/v1/district/".concat(a,"/"),Xe());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e){var t,a;return fe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(he.b)(rt,t);case 4:if(!(a=c.sent)){c.next=8;break}return c.next=8,Object(he.c)({type:P,payload:a});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(he.c)({type:I,error:ke(c.t0)});case 14:case"end":return c.stop()}}),Ze,null,[[1,10]])}function it(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(xe.a)(fe.a.mark((function e(t){var a,c,r,n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,c=t.name,t.logo,r=t.code,n=t.admins,e.next=3,Re.patch("/api/v1/district/".concat(a,"/"),{name:c,code:r,admins:n},Xe());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e){var t,a;return fe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(he.b)(it,t);case 4:if(a=c.sent,pt(),!a){c.next=9;break}return c.next=9,Object(he.c)({type:U,payload:a});case 9:c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(he.c)({type:L,error:ke(c.t0)});case 15:case"end":return c.stop()}}),$e,null,[[1,11]])}function lt(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(xe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.delete("/api/v1/district/".concat(t,"/"),Xe());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){var t;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(he.b)(lt,t);case 4:return a.sent,a.next=7,Object(he.c)({type:G,payload:t});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(he.c)({type:q,error:ke(a.t0)});case 13:case"end":return a.stop()}}),et,null,[[1,9]])}function ut(){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(xe.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/api/v1/district/",Xe());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(){var e;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(he.b)(ut);case 3:if(!(e=t.sent)){t.next=7;break}return t.next=7,Object(he.c)({type:H,payload:e});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(he.c)({type:Q,error:ke(t.t0)});case 13:case"end":return t.stop()}}),tt,null,[[0,9]])}function mt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(xe.a)(fe.a.mark((function e(t){var a,c,r,n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,c=t.code,r=t.logo,n=t.admins,e.next=3,Re.post("/api/v1/district/",{name:a,code:c,logo:r,admins:n},Xe());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e){var t,a;return fe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(he.b)(mt,t);case 4:if(!(a=c.sent)){c.next=8;break}return c.next=8,Object(he.c)({type:B,payload:a});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(he.c)({type:V,error:ke(c.t0)});case 14:case"end":return c.stop()}}),at,null,[[1,10]])}function xt(){return gt.apply(this,arguments)}function gt(){return(gt=Object(xe.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/api/v1/district/district-code/",Xe());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){var e;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(he.b)(xt);case 3:if(!(e=t.sent)){t.next=7;break}return t.next=7,Object(he.c)({type:Y,payload:e.code});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(he.c)({type:z,error:ke(t.t0)});case 13:case"end":return t.stop()}}),ct,null,[[0,9]])}var yt=Object(he.a)([Object(he.d)(T,st),Object(he.d)(A,dt),Object(he.d)(F,jt),Object(he.d)(M,pt),Object(he.d)(W,ht),Object(he.d)(K,vt)]),wt=fe.a.mark(Rt),St=fe.a.mark(Dt);function Et(){return _t.apply(this,arguments)}function _t(){return(_t=Object(xe.a)(fe.a.mark((function e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.get("/api/v1/admin-users/",Xe());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(xe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("idddddddddddddddd",t),e.next=3,Re.get("/api/v1/admin-users/?district=".concat(t),Xe());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e){var t,a;return fe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,console.log("payloadddd",t),c.prev=2,c.next=5,Object(he.b)(Nt,t);case 5:if(a=c.sent,console.log("responseeeee",a),!a){c.next=10;break}return c.next=10,Object(he.c)({type:je,payload:a});case 10:c.next=17;break;case 12:return c.prev=12,c.t0=c.catch(2),console.log("errrorrr",c.t0),c.next=17,Object(he.c)({type:ue,error:ke(c.t0)});case 17:case"end":return c.stop()}}),wt,null,[[2,12]])}function Dt(){var e;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(he.b)(Et);case 3:if(!(e=t.sent)){t.next=7;break}return t.next=7,Object(he.c)({type:de,payload:e});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(he.c)({type:le,error:ke(t.t0)});case 13:case"end":return t.stop()}}),St,null,[[0,9]])}var kt=Object(he.a)([Object(he.d)(be,Rt),Object(he.d)(oe,Dt)]),Tt=fe.a.mark(Pt);function Pt(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.a)([ze,yt,kt]);case 2:case"end":return e.stop()}}),Tt)}var It=Object(j.a)(),At=[],Ut=Object(b.a)(),Lt=[Ut,Object(l.a)(It)];var Ft=a(33),Gt=(a(51),a(29),a(36),a(15)),qt=a(7),Mt=a.p+"static/media/device.b0b4739f.jpg",Ht=a(0),Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csrftoken";return ve.a.get(e)},Wt=function(){return Object(Ht.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:Qt})},Bt=(a(89),a(18)),Vt=a.n(Bt),Kt=function(){var e=Object(i.d)(),t=Object(Ft.f)(),a=Object(i.e)((function(e){return e.auth})).login,r=(a.loading,a.success);a.error;Object(c.useEffect)((function(){r&&t.push("/dashboard")}),[r]);var n=Object(c.useState)({email:"",password:""}),s=Object(qt.a)(n,2),o=s[0],d=s[1],l=Object(c.useState)(""),b=Object(qt.a)(l,2),j=b[0],O=b[1],p=Object(c.useState)(!1),m=Object(qt.a)(p,2),h=(m[0],m[1]),x=function(e){var t=e.target,a=t.name,c=t.value;d(Object(u.a)(Object(u.a)({},o),{},Object(Gt.a)({},a,c)))};return Object(Ht.jsxs)("div",{class:"device-holder d-flex h-100",children:[Object(Ht.jsxs)("div",{class:"image-holder flex-fill",children:[Object(Ht.jsx)("img",{src:Mt,class:"image-responsive form-image"}),Object(Ht.jsxs)("div",{class:"image-caption",children:[Object(Ht.jsxs)("div",{class:"caption-head",children:[Object(Ht.jsx)("h2",{children:"Cleaning Services"}),Object(Ht.jsx)("p",{children:"A one line description of company\u2019s motto"})]}),Object(Ht.jsxs)("div",{class:"caption-footer",children:[Object(Ht.jsx)("a",{href:"#",class:"new-user d-inline-block",children:"New User ?"}),Object(Ht.jsx)("a",{class:"btn btn-light w-100",href:"/signup",role:"button",children:"Sign up"})]})]})]}),Object(Ht.jsxs)("div",{class:"align-items-center d-flex flex-fill justify-content-center login-content",children:[Object(Ht.jsxs)("div",{class:"login-holder",children:[Object(Ht.jsx)("h2",{children:"Login"}),Object(Ht.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),!0===t.currentTarget.checkValidity()?e({type:f,payload:o}):h(!0)},children:[Object(Ht.jsx)(Wt,{}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating mb-3 go-bottom",children:[Object(Ht.jsx)("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"sample@example.com",name:"email",value:o.email,onChange:x,required:!0}),Object(Ht.jsx)("label",{for:"name",children:"Email address"})]})}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating",children:[Object(Ht.jsx)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password",name:"password",value:o.password,onChange:x,required:!0}),Object(Ht.jsx)("label",{for:"floatingPassword",children:"Password"})]})}),Object(Ht.jsxs)("div",{class:"mb-4 form-check d-flex justify-content-between",children:[Object(Ht.jsxs)("div",{children:[Object(Ht.jsx)("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1"}),Object(Ht.jsx)("label",{class:"form-check-label",for:"exampleCheck1",children:"Remember me"})]}),Object(Ht.jsx)("a",{href:"#",class:"forgot-link","data-bs-toggle":"modal","data-bs-target":"#resetModal",children:"Forgot Password ?"})]}),Object(Ht.jsx)("button",{type:"submit",class:"btn btn-primary w-100",children:"Continue"})]})]}),Object(Ht.jsx)("div",{class:"modal fade",id:"resetModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(Ht.jsx)("div",{class:"modal-holder",children:Object(Ht.jsx)("div",{class:"modal-dialog",children:Object(Ht.jsx)("div",{class:"modal-content",children:Object(Ht.jsxs)("div",{class:"modal-body",children:[Object(Ht.jsx)("h2",{class:"modal-title",id:"exampleModalLabel",children:"Forgot Password"}),Object(Ht.jsx)("p",{class:"modal-details",children:"Password reset link will be sent to your verified email address"}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating mb-3 go-bottom",children:[Object(Ht.jsx)("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"sample@example.com",onChange:function(e){var t=e.target.value;O(t)},value:j,required:!0}),Object(Ht.jsx)("label",{for:"name",children:"Email address"})]})}),Object(Ht.jsx)("button",{type:"button",class:"btn btn-primary w-100",onClick:function(){""!=j&&(Vt()(".modal").modal("hide"),Vt()("body").removeClass("modal-open"),Vt()(".modal-backdrop").remove(),e({type:g,payload:j}),t.push("/reset-password"))},children:"Submit"})]})})})})})]})]})};var Yt=a.p+"static/media/eye.e6d26664.svg",zt=a.p+"static/media/top.c758e01a.jpg",Jt=(a(90),function(){var e=Object(i.d)(),t=(Object(Ft.f)(),Object(i.e)((function(e){return e.auth})).resetPassword);t.loading,t.success,t.error;Object(c.useEffect)((function(){var e=document.querySelector("#togglePassword"),t=document.querySelector("#togglePasswordConfirm"),a=document.querySelector("#password"),c=document.querySelector("#confirmPassword");e.addEventListener("click",(function(e){var t="password"===a.getAttribute("type")?"text":"password";a.setAttribute("type",t)})),t.addEventListener("click",(function(e){var t="password"===c.getAttribute("type")?"text":"password";c.setAttribute("type",t)}))}),[]);var a=Object(c.useState)({password:"",confirm_password:""}),r=Object(qt.a)(a,2),n=r[0],s=r[1],o=Object(c.useState)(!1),d=Object(qt.a)(o,2),l=(d[0],d[1]),b=function(e){var t=e.target,a=t.name,c=t.value;s(Object(u.a)(Object(u.a)({},n),{},Object(Gt.a)({},a,c)))};return Object(Ht.jsx)("div",{class:"reset-password ",children:Object(Ht.jsxs)("div",{class:"reset-password-holder",children:[Object(Ht.jsxs)("div",{class:"banner",children:[Object(Ht.jsx)("img",{src:zt,alt:"",class:"image-responsive"}),Object(Ht.jsxs)("div",{class:"caption-head",children:[Object(Ht.jsx)("h2",{children:"Cleaning Services"}),Object(Ht.jsx)("p",{children:"A one line description of company\u2019s motto"})]})]}),Object(Ht.jsxs)("div",{class:"form-holder",children:[Object(Ht.jsx)("h2",{children:"Password Reset"}),Object(Ht.jsx)("div",{class:"form-box",children:Object(Ht.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),!0===t.currentTarget.checkValidity()?e({type:_,payload:n}):l(!0)},children:[Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating password-holder",children:[Object(Ht.jsx)("input",{type:"password",class:"form-control",id:"password",placeholder:"New Password",name:"password",value:n.password,onChange:b,required:!0}),Object(Ht.jsx)("label",{for:"floatingPassword",children:"New Password"}),Object(Ht.jsx)("img",{src:Yt,alt:"",class:"image-responsive eye-icon",id:"togglePassword"})]})}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating password-holder",children:[Object(Ht.jsx)("input",{type:"password",class:"form-control",id:"confirmPassword",placeholder:"Confirm Password",name:"confirm_password",value:n.confirm_password,onChange:b,required:!0}),Object(Ht.jsx)("label",{for:"floatingPassword",children:"Confirm Password"}),Object(Ht.jsx)("img",{src:Yt,alt:"",class:"image-responsive eye-icon",id:"togglePasswordConfirm"})]})}),Object(Ht.jsx)("button",{type:"submit",class:"btn btn-primary w-100",children:"Submit"})]})})]})]})})}),Xt=(a(52),a.p+"static/media/logo.1220db72.svg"),Zt=a.p+"static/media/user-button.0521d8a5.svg",$t=a.p+"static/media/plus-icon.50493646.svg",ea=function(){return Object(Ht.jsxs)("div",{className:"d-flex flex-column justify-content-between p-3 section-header",children:[Object(Ht.jsxs)("div",{className:"d-flex justify-content-between top-header",children:[Object(Ht.jsx)("div",{className:"logo-holder",children:Object(Ht.jsx)("img",{src:Xt,alt:"",className:"image-responsive"})}),Object(Ht.jsx)("div",{className:"user-button",children:Object(Ht.jsx)("img",{src:Zt,alt:"",className:"image-responsive"})})]}),Object(Ht.jsxs)("div",{className:"align-items-center bottom-header d-flex justify-content-between",children:[Object(Ht.jsx)("div",{className:"header-content",children:Object(Ht.jsx)("h3",{children:"District details"})}),Object(Ht.jsx)("div",{className:"header-button",children:Object(Ht.jsxs)("a",{href:"#",className:"btn btn-outline-secondary d-flex align-items-center text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_District",children:[Object(Ht.jsx)("img",{src:$t,alt:"",className:"image-responsive"}),Object(Ht.jsx)("span",{children:"District"})]})})]})]})},ta=a.p+"static/media/error-icon.7d926bb4.svg",aa=a.p+"static/media/delete-icon.7e21597e.svg",ca=a.p+"static/media/plus-icon.50493646.svg",ra=function(e){return{type:A,payload:e}},na=function(e){return{type:M,payload:e}},sa=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.district})).districts,r=(a.loading,a.success,a.error,a.data,Object(c.useState)(null)),n=Object(qt.a)(r,2),s=n[0],o=n[1],d=Object(c.useState)("Overview"),l=Object(qt.a)(d,2),b=l[0],j=l[1];Object(c.useEffect)((function(){var t;t=e.district,o(t)}),[e]);var u=function(){return Object(Ht.jsx)("div",{className:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"Overview",children:Object(Ht.jsxs)("ul",{className:"p-0",children:[Object(Ht.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(Ht.jsx)("div",{className:"name",children:Object(Ht.jsx)("span",{children:"District name"})}),Object(Ht.jsx)("div",{className:"value",children:Object(Ht.jsx)("span",{children:s.name})})]}),Object(Ht.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(Ht.jsx)("div",{className:"name",children:Object(Ht.jsx)("span",{children:"District code"})}),Object(Ht.jsx)("div",{className:"value",children:Object(Ht.jsx)("span",{children:s.code})})]}),Object(Ht.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(Ht.jsx)("div",{className:"name",children:Object(Ht.jsx)("span",{children:"Buildings"})}),Object(Ht.jsx)("div",{className:"value",children:Object(Ht.jsx)("span",{children:s.buildings||0})})]}),Object(Ht.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(Ht.jsx)("div",{className:"name",children:Object(Ht.jsx)("span",{children:"Rooms"})}),Object(Ht.jsx)("div",{className:"value",children:Object(Ht.jsx)("span",{children:s.rooms||0})})]}),Object(Ht.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(Ht.jsx)("div",{className:"name",children:Object(Ht.jsx)("span",{children:"Sq. ft."})}),Object(Ht.jsx)("div",{className:"value",children:Object(Ht.jsx)("span",{children:s.sq_feet||0})})]})]})})},O=function(){return Object(Ht.jsx)("div",{className:"tab-admin",id:"",role:"","aria-labelledby":"",children:Object(Ht.jsxs)("ul",{className:"p-0",children:[s&&s.admin_detail.map((function(a){return Object(Ht.jsxs)("li",{className:"border-bottom d-flex justify-content-between p-2 pb-3 pt-3",children:[Object(Ht.jsx)("div",{className:"name",children:Object(Ht.jsx)("span",{children:a.name})}),Object(Ht.jsxs)("div",{className:"icon-holder d-flex justify-content-end",children:[Object(Ht.jsx)("img",{src:aa,alt:"",className:"image-responsive delete-icon",onClick:function(){return function(a){var c=e.district.admins.filter((function(e){return e!=a.id})),r=e.district.admin_detail.filter((function(e){return e.id!=a.id}));t(ra({id:e.district.id,admins:c})),e.district.admins=c,e.district.admin_detail=r,o(e.district)}(a)}}),Object(Ht.jsx)("a",{href:"#",className:"align-items-center border-0 d-flex m-auto text-uppercase","data-bs-toggle":"modal","data-bs-target":"#info-modal",children:Object(Ht.jsx)("img",{src:ta,alt:"",className:"image-responsive error-icon",onClick:function(){return e.onAdminSelected(a)}})})]})]},a.id)})),Object(Ht.jsx)("li",{className:"d-flex justify-content-between p-2 pb-3 pt-3 add-admin-link",children:Object(Ht.jsxs)("a",{href:"#",className:"align-items-center border-0 btn btn-outline-secondary d-flex m-auto text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_admin",children:[Object(Ht.jsx)("img",{src:ca,alt:"",className:"image-responsive"}),Object(Ht.jsx)("span",{children:"ADD ADMIN"})]})})]})})};return Object(Ht.jsxs)("div",{id:"side-bar-tabs",className:"tabs-holder","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:[Object(Ht.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(Ht.jsx)("li",{className:"nav-item",role:"presentation",children:Object(Ht.jsx)("button",{className:"nav-link py-3 ".concat("Overview"===b?"active":""),onClick:function(){return j("Overview")},children:"Overview"})}),Object(Ht.jsx)("li",{className:"nav-item",role:"presentation",children:Object(Ht.jsx)("button",{className:"nav-link py-3 ".concat("Admin"===b?"active":""),onClick:function(){return j("Admin")},children:"Admins"})})]}),null!==s&&Object(Ht.jsx)(Ht.Fragment,{children:"Overview"===b?Object(Ht.jsx)(u,{}):Object(Ht.jsx)(O,{})})]})},ia=(a.p,a.p,function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.district})).generateCode,r=(a.loading,a.success),n=(a.error,a.data);Object(i.e)((function(e){return e.district}));Object(c.useEffect)((function(){var e;t({type:K,payload:e}),x()}),[]);var s=Object(c.useState)(!1),o=Object(qt.a)(s,2),d=(o[0],o[1]),l=Object(c.useState)({name:"",logo:"",code:"",admins:[]}),b=Object(qt.a)(l,2),j=b[0],O=b[1],p=Object(c.useState)(""),m=Object(qt.a)(p,2),f=m[0],h=m[1],x=function(){r&&O(Object(u.a)(Object(u.a)({},j),{},{code:n}))},g=function(){var e=Object(xe.a)(fe.a.mark((function e(t){var a,c;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,v(a);case 3:c=e.sent,h(c),O(Object(u.a)(Object(u.a)({},j),{},{logo:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return new Promise((function(t,a){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){t(c.result)},c.onerror=function(e){a(e)}}))};return Object(Ht.jsx)("div",{className:"modal fade",id:"add_District",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(Ht.jsx)("div",{className:"modal-holder",children:Object(Ht.jsx)("div",{className:"modal-dialog",children:Object(Ht.jsx)("div",{className:"modal-content",children:Object(Ht.jsx)("div",{className:"modal-body",children:Object(Ht.jsxs)("form",{onSubmit:function(e){var a;e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()?(t((a={name:j.name,logo:f,code:n,admins:[]},{type:W,payload:a})),O({name:"",logo:"",code:""}),h("")):d(!0)},children:[Object(Ht.jsx)(Wt,{}),Object(Ht.jsx)("h2",{className:"modal-title mb-4",id:"exampleModalLabel",children:"Add District"}),Object(Ht.jsx)("div",{className:"mb-4",children:Object(Ht.jsxs)("div",{className:"form-floating mb-3 go-bottom",children:[Object(Ht.jsx)("input",{type:"text",className:"form-control",name:"name",value:j.name,onChange:function(e){var t=e.target,a=t.name,c=t.value;O(Object(u.a)(Object(u.a)({},j),{},Object(Gt.a)({},a,c)))},required:!0,id:"floatingInput",placeholder:"District Name"}),Object(Ht.jsx)("label",{htmlFor:"name",children:"District Name"})]})}),Object(Ht.jsxs)("div",{className:"logo-uploader mb-4",children:[Object(Ht.jsxs)("div",{className:"logo-uploader-header d-flex align-items-center justify-content-between mb-3",children:[Object(Ht.jsx)("div",{children:"District logo"}),Object(Ht.jsx)("input",{type:"file",onChange:g,required:!0,id:"select-image",className:"btn btn-outline-secondary",style:{display:"none"}}),Object(Ht.jsx)("label",{for:"select-image",className:"btn btn-outline-secondary btn-lg d-flex align-items-center text-uppercase",children:"Select image"})]}),Object(Ht.jsx)("div",{className:"logo-uploader-area",children:""==f?Object(Ht.jsx)("p",{children:"Drag & drop the image in this section"}):Object(Ht.jsx)("img",{src:f,height:"100px"})})]}),Object(Ht.jsx)("div",{className:"mb-4",children:Object(Ht.jsxs)("div",{className:"form-floating mb-3 go-bottom",children:[Object(Ht.jsx)("input",{type:"text",name:"code",value:n,onChange:function(e){var t=e.target.value;O(Object(u.a)(Object(u.a)({},j),{},{code:t}))},className:"form-control",id:"floatingInput",placeholder:"District code"}),Object(Ht.jsx)("label",{htmlFor:"name",children:"District code"})]})}),Object(Ht.jsx)("button",{type:"submit",className:"btn btn-primary text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_District",children:"Create"})]})})})})})})}),oa=function(){return Object(Ht.jsx)("div",{id:"side-bar-description",className:"d-flex align-items-center justify-content-center h-100 d-none",children:Object(Ht.jsx)("p",{children:"Select a district to view details"})})},da=a.p+"static/media/arrow-right.7a1394ea.svg",la=(a.p,a.p+"static/media/dotted-icon.d969cbdd.svg"),ba=function(e){console.log("propssss",e);var t=Object(i.d)(),a=Object(i.e)((function(e){return e.district})).deleteDistrict,n=(a.loading,a.success,a.error,Object(c.useState)(!1)),s=Object(qt.a)(n,2),o=(s[0],s[1],function(){var a;e.onSelectDistrict(e.district.id),t((a=e.district.id,{type:be,payload:a}))});return Object(Ht.jsx)(r.a.Fragment,{children:Object(Ht.jsxs)("div",{className:"district-box",children:[Object(Ht.jsx)("div",{className:"image-holder",children:Object(Ht.jsx)("img",{src:e.district.logo,alt:"",className:"w-100"})}),Object(Ht.jsxs)("div",{className:"d-flex district-box-footer align-items-center px-4 w-100 py-2 justify-content-between",style:e.selected===e.district.id?{backgroundColor:"#B4DBDB"}:{},children:[Object(Ht.jsxs)("div",{className:"content d-flex",children:[Object(Ht.jsx)("div",{className:"icon",type:"button",children:Object(Ht.jsx)("img",{src:da,alt:"",className:"image-responsive",id:e.district.id,value:e.district.id,onClick:function(){return o()}})}),Object(Ht.jsx)("span",{children:e.district.name})]}),Object(Ht.jsxs)("div",{className:"dropdown",children:[Object(Ht.jsx)("button",{className:"dropdown btn btn-secondary dropdown-toggle p-0",style:{width:"25px"},type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(Ht.jsx)("img",{src:la,alt:"",className:"image-responsive"})}),Object(Ht.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton1",children:[Object(Ht.jsx)("li",{children:Object(Ht.jsx)("a",{className:"dropdown-item",onClick:function(){e.onEditDistrict(e.district),Vt()("#update_District").modal("show")},children:"Edit details"})}),Object(Ht.jsx)("li",{children:Object(Ht.jsx)("a",{className:"dropdown-item",onClick:function(){var a;t((a=e.district.id,{type:F,payload:a}))},children:"Delete district"})})]})]})]})]})})},ja=function(e){var t=Object(i.d)();Object(c.useEffect)((function(){l({name:e.district.name,logo:e.district.logo,code:e.district.code,admins:e.district.admins}),p(e.district.logo)}),[]);var a=Object(c.useState)(!1),r=Object(qt.a)(a,2),n=(r[0],r[1]),s=Object(c.useState)({name:"",logo:"",code:"E4125",admins:[]}),o=Object(qt.a)(s,2),d=o[0],l=o[1],b=Object(c.useState)(""),j=Object(qt.a)(b,2),O=j[0],p=j[1],m=function(){var e=Object(xe.a)(fe.a.mark((function e(t){var a,c;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,f(a);case 3:c=e.sent,p(c),l(Object(u.a)(Object(u.a)({},d),{},{logo:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return new Promise((function(t,a){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){t(c.result)},c.onerror=function(e){a(e)}}))},h=function(e){var t=e.target,a=t.name,c=t.value;l(Object(u.a)(Object(u.a)({},d),{},Object(Gt.a)({},a,c)))};return Object(Ht.jsx)("div",{className:"modal fade",id:"update_District",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(Ht.jsx)("div",{className:"modal-holder",children:Object(Ht.jsx)("div",{className:"modal-dialog",children:Object(Ht.jsx)("div",{className:"modal-content",children:Object(Ht.jsx)("div",{className:"modal-body",children:Object(Ht.jsxs)("form",{onSubmit:function(a){a.preventDefault(),a.stopPropagation(),!0===a.currentTarget.checkValidity()?(t(ra({id:e.district.id,name:d.name,logo:O,code:e.district.code,admins:[]})),Vt()("#update_District").modal("hide"),l({name:"",logo:"",code:""}),p("")):n(!0)},children:[Object(Ht.jsx)(Wt,{}),Object(Ht.jsx)("h2",{className:"modal-title mb-4",id:"exampleModalLabel",children:"Update District"}),Object(Ht.jsx)("div",{className:"mb-4",children:Object(Ht.jsxs)("div",{className:"form-floating mb-3 go-bottom",children:[Object(Ht.jsx)("input",{type:"text",className:"form-control",name:"name",value:d.name,onChange:h,id:"floatingInput",placeholder:"District Name"}),Object(Ht.jsx)("label",{htmlFor:"name",children:"District Name"})]})}),Object(Ht.jsxs)("div",{className:"logo-uploader mb-4",children:[Object(Ht.jsxs)("div",{className:"logo-uploader-header d-flex align-items-center justify-content-between mb-3",children:[Object(Ht.jsx)("div",{children:"District logo"}),Object(Ht.jsx)("input",{type:"file",onChange:m,id:"select-image",className:"btn btn-outline-secondary",style:{display:"none"}}),Object(Ht.jsx)("label",{for:"select-image",className:"btn btn-outline-secondary btn-lg d-flex align-items-center text-uppercase",children:"Select image"})]}),Object(Ht.jsx)("div",{className:"logo-uploader-area",children:""==O?Object(Ht.jsx)("p",{children:"Drag & drop the image in this section"}):Object(Ht.jsx)("img",{src:O,height:"100px"})})]}),Object(Ht.jsx)("div",{className:"mb-4",children:Object(Ht.jsxs)("div",{className:"form-floating mb-3 go-bottom",children:[Object(Ht.jsx)("input",{type:"text",name:"code",value:d.code,onChange:h,className:"form-control",id:"floatingInput2",placeholder:"District code"}),Object(Ht.jsx)("label",{htmlFor:"name",children:"District code"})]})}),Object(Ht.jsx)("button",{type:"submit",className:"btn btn-primary text-uppercase",children:"Update"}),Object(Ht.jsx)("button",{type:"button",className:"ml-4 btn btn-primary",onClick:function(e){Vt()("#update_District").modal("hide"),l({name:"",logo:"",code:""}),p("")},children:"Cancel"})]})})})})})})},ua=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.admin})).admins,r=(a.loading,a.success,a.error,a.data),n=Object(c.useState)([]),s=Object(qt.a)(n,2),o=(s[0],s[1],Object(c.useState)([])),d=Object(qt.a)(o,2),l=d[0],b=(d[1],Object(c.useState)(!1)),j=Object(qt.a)(b,2),u=(j[0],j[1],Object(c.useState)(!1)),O=Object(qt.a)(u,2),p=O[0],m=O[1];console.log("selectedAdmins",l);console.log("roleId",r),Object(c.useEffect)((function(){t(na())}),[]),Object(c.useEffect)((function(){if(r){var e=[];r.forEach((function(t){t.is_user&&e.push(t.employee_detail.id)})),m(e)}}),[r]);var f=function(e){var t=Number(e.target.value);if(p.includes(t)){var a=p.filter((function(e){return e!==t}));m(a)}else m([].concat(Object(De.a)(p),[t]))};console.log(p);return Object(Ht.jsx)("div",{className:"modal fade",id:"add_admin",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(Ht.jsx)("div",{className:"modal-holder",children:Object(Ht.jsx)("div",{className:"modal-dialog",children:Object(Ht.jsx)("div",{className:"modal-content",children:Object(Ht.jsxs)("div",{className:"modal-body",children:[Object(Ht.jsx)("div",{className:"admin-info m-4",children:r.length>0&&r.map((function(e){return Object(Ht.jsxs)("div",{className:"d-flex items-center justify-content-between mb-4",children:[Object(Ht.jsx)("div",{children:e.employee_detail.name}),Object(Ht.jsx)("div",{children:Object(Ht.jsx)("input",{type:"checkbox",className:"form-check-input big-checkbox",checked:p.includes(e.employee_detail.id),value:e.employee_detail.id,onChange:f})})]})}))}),Object(Ht.jsxs)("div",{class:"d-flex justify-content-center align-items-center btn-holder",children:[Object(Ht.jsx)("button",{type:"button",class:"btn btn-primary text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_admin",onClick:function(a){t(ra({id:e.districtId,admins:p}))},children:"Save"}),Object(Ht.jsx)("button",{type:"button",class:"btn btn-primary text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_admin",children:"Cancel"})]})]})})})})})},Oa=function(e){var t=Object(i.d)(),a=(Object(Ft.f)(),Object(i.e)((function(e){return e.district})).districts),n=(a.loading,a.success,a.error,a.data),s=Object(i.e)((function(e){return e.admin})).admins;s.loadingAdmins,s.adminSuccess,s.adminError,s.adminData;Object(c.useEffect)((function(){t(na())}),[]);var o=Object(c.useState)({id:"",name:"",logo:"",code:""}),d=Object(qt.a)(o,2),l=d[0],b=d[1],j=Object(c.useState)(!1),u=Object(qt.a)(j,2),O=u[0],p=u[1],m=Object(c.useState)(0),f=Object(qt.a)(m,2),h=f[0],x=f[1],g=function(t){console.log("here");var a=n.filter((function(e){return e.id==t}))[0];x(a.id),e.onDistrictSelected(a)},v=function(e){b({id:e.id,name:e.name,logo:e.logo,code:e.code}),p(!0)};return Object(Ht.jsxs)(r.a.Fragment,{children:[Object(Ht.jsx)("div",{className:"main-content w-100 p-4",children:Object(Ht.jsx)("div",{className:"district-holder",children:n.length>0&&n.map((function(e){return Object(Ht.jsx)(ba,{district:e,selected:h,onSelectDistrict:g,onEditDistrict:v},e.id)}))})}),Object(Ht.jsx)(ia,{}),O&&Object(Ht.jsx)(ja,{district:l}),Object(Ht.jsx)(ua,{districtId:h})]})},pa=[{exact:!0,path:"/",name:"Login",component:Kt},{exact:!0,path:"/login",name:"Login",component:Kt},{exact:!0,path:"/signup",name:"Signup",component:function(){var e=Object(i.d)(),t=Object(Ft.f)(),a=Object(i.e)((function(e){return e.auth})).signup,r=(a.loading,a.success);a.error,Object(c.useEffect)((function(){r&&t.push("/dashboard")}),[r]);var n=Object(c.useState)({first_name:"",last_name:"",email:"",phone_no:"",password:"",confirm_password:"",employer_code:""}),s=Object(qt.a)(n,2),o=s[0],d=s[1],l=Object(c.useState)(!1),b=Object(qt.a)(l,2),j=(b[0],b[1]),p=function(e){var t=e.target,a=t.name,c=t.value;d(Object(u.a)(Object(u.a)({},o),{},Object(Gt.a)({},a,c)))};return Object(Ht.jsxs)("div",{class:"device-holder d-flex h-100",children:[Object(Ht.jsx)("div",{class:"align-items-center d-flex flex-fill justify-content-center login-content",children:Object(Ht.jsxs)("div",{class:"login-holder",children:[Object(Ht.jsx)("h2",{children:"Sign up"}),Object(Ht.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),!0===t.currentTarget.checkValidity()?e({type:O,payload:o}):j(!0)},children:[Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating mb-3",children:[Object(Ht.jsx)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"First Name",name:"first_name",value:o.first_name,onChange:p,required:!0}),Object(Ht.jsx)("label",{for:"name",children:"First Name"})]})}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating",children:[Object(Ht.jsx)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"Lasr Name",name:"last_name",value:o.last_name,onChange:p,required:!0}),Object(Ht.jsx)("label",{for:"name",children:"Last Name"})]})}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating mb-3 go-bottom",children:[Object(Ht.jsx)("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"samplee@example.com",name:"email",value:o.email,onChange:p,required:!0}),Object(Ht.jsx)("label",{for:"name",children:"Email address"})]})}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating",children:[Object(Ht.jsx)("input",{type:"number",class:"form-control",id:"floatingInput",placeholder:"Phone no",name:"phone_no",value:o.phone_no,onChange:p,required:!0}),Object(Ht.jsx)("label",{for:"name",children:"Phone no."})]})}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating",children:[Object(Ht.jsx)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password",name:"password",value:o.password,onChange:p,required:!0}),Object(Ht.jsx)("label",{for:"floatingPassword",children:"Password"})]})}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating",children:[Object(Ht.jsx)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Confirm Password",name:"confirm_password",value:o.confirm_password,onChange:p,required:!0}),Object(Ht.jsx)("label",{for:"floatingPassword",children:"Confirm Password"})]})}),Object(Ht.jsx)("div",{class:"mb-4",children:Object(Ht.jsxs)("div",{class:"form-floating",children:[Object(Ht.jsx)("input",{type:"number",class:"form-control",id:"floatingInput",placeholder:"Employer Code",name:"employer_code",value:o.employer_code,onChange:p,required:!0}),Object(Ht.jsx)("label",{for:"name",children:"Employer Code"})]})}),Object(Ht.jsx)("button",{type:"submit",class:"btn btn-primary w-100",children:"REGISTER"})]})]})}),Object(Ht.jsxs)("div",{class:"image-holder flex-fill",children:[Object(Ht.jsx)("img",{src:Mt,alt:"",class:"image-responsive form-image"}),Object(Ht.jsxs)("div",{class:"image-caption",children:[Object(Ht.jsxs)("div",{class:"caption-head",children:[Object(Ht.jsx)("h2",{children:"Cleaning Services"}),Object(Ht.jsx)("p",{children:"A one line description of company\u2019s motto"})]}),Object(Ht.jsxs)("div",{class:"caption-footer",children:[Object(Ht.jsx)("a",{href:"#",class:"new-user d-inline-block",children:"Already registered ?"}),Object(Ht.jsx)("a",{class:"btn btn-light w-100",href:"/",role:"button",children:"Login"})]})]})]})]})}},{exact:!0,path:"/reset-password",name:"ResetPassword",component:Jt},{exact:!0,path:"/dashboard",name:"Dashboard",component:function(){var e=Object(c.useState)(0),t=Object(qt.a)(e,2),a=(t[0],t[1],Object(c.useState)(null)),n=Object(qt.a)(a,2),s=n[0],i=n[1],o=Object(c.useState)({id:"",name:""}),d=Object(qt.a)(o,2),l=(d[0],d[1]);return Object(Ht.jsx)(r.a.Fragment,{children:Object(Ht.jsxs)("div",{className:"dashboard",children:[Object(Ht.jsxs)("div",{id:"siderbar",className:"d-flex flex-column col",children:[Object(Ht.jsx)(ea,{}),Object(Ht.jsx)("div",{className:"inner-section h-100",children:null==s?Object(Ht.jsx)(oa,{}):Object(Ht.jsx)(sa,{district:s,onAdminSelected:function(e){l(e)}})})]}),Object(Ht.jsx)(Oa,{onDistrictSelected:function(e){i(e)}})]})})},isPrivate:!0}],ma=function(){return pa.map((function(e){return Object(Ht.jsx)(Ft.b,{exact:e.exact,path:e.path,render:function(t){return function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var r=Object(u.a)(Object(u.a)({},e),a);return c?Je()?Object(Ht.jsx)(t,Object(u.a)({},r)):Object(Ht.jsx)(Ft.a,{to:"/login"}):Je()?Object(Ht.jsx)(Ft.a,{to:"/dashboard"}):Object(Ht.jsx)(t,Object(u.a)({},r))}return null}(t,e.component,e.props,e.isPrivate)}},e.name)}))},fa=function(){return Object(Ht.jsx)(Ft.d,{children:ma()})},ha=Object(Ft.g)((function(){return Object(Ht.jsx)("div",{children:Object(Ht.jsx)(fa,{})})})),xa=function(e){var t,a=Object(d.e)((t=It,Object(d.c)({router:Object(o.b)(t),auth:k,district:Z,admin:pe,user:ie})),e,d.d.apply(void 0,[d.a.apply(void 0,Lt)].concat(At)));return Ut.run(Pt),a}({});s.a.render(Object(Ht.jsx)(i.a,{store:xa,children:Object(Ht.jsx)(o.a,{history:It,children:Object(Ht.jsx)("div",{children:Object(Ht.jsx)(ha,{})})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.d27ed9f3.chunk.js.map