(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{51:function(e,t,a){},52:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a.n(c),s=a(30),n=a.n(s),i=a(9),o=a(24),d=a(19),l=a(50),b=a(56),j=(a(65),a(21)),u=a(1),O="SIGNUP_REQUEST",m="SIGNUP_SUCCESS",p="SIGNUP_ERROR",h="LOGIN_REQUEST",f="LOGIN_SUCCESS",x="LOGIN_ERROR",g="FORGOT_PASSWORD_REQUEST",v="FORGOT_PASSWORD_SUCCESS",y="FORGOT_PASSWORD_ERROR",w="CHANGE_PASSWORD_REQUEST",S="CHANGE_PASSWORD_SUCCESS",N="CHANGE_PASSWORD_ERROR",E="RESET_PASSWORD_REQUEST",_="RESET_PASSWORD_SUCCESS",C="RESET_PASSWORD_ERROR",R={loading:!1,error:"",success:!1},D={signup:Object(u.a)({},R),login:Object(u.a)({},R),forgotPassword:Object(u.a)({},R),changePassword:Object(u.a)({},R),resetPassword:Object(u.a)({},R)},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(u.a)(Object(u.a)({},e),{},{signup:Object(u.a)(Object(u.a)({},e.signup),{},{loading:!0})});case m:return Object(u.a)(Object(u.a)({},e),{},{signup:Object(u.a)(Object(u.a)({},e.signup),{},{loading:!1,success:!0})});case p:return Object(u.a)(Object(u.a)({},e),{},{signup:Object(u.a)(Object(u.a)({},e.signup),{},{loading:!1,error:t.error})});case h:return Object(u.a)(Object(u.a)({},e),{},{login:Object(u.a)(Object(u.a)({},e.login),{},{loading:!0})});case f:return Object(u.a)(Object(u.a)({},e),{},{login:Object(u.a)(Object(u.a)({},e.login),{},{loading:!1,success:!0})});case x:return Object(u.a)(Object(u.a)({},e),{},{login:Object(u.a)(Object(u.a)({},e.login),{},{loading:!1,error:t.error})});case g:return Object(u.a)(Object(u.a)({},e),{},{forgotPassword:Object(u.a)(Object(u.a)({},e.forgotPassword),{},{loading:!0})});case v:return Object(u.a)(Object(u.a)({},e),{},{forgotPassword:Object(u.a)(Object(u.a)({},e.forgotPassword),{},{loading:!1,success:!0})});case y:return Object(u.a)(Object(u.a)({},e),{},{forgotPassword:Object(u.a)(Object(u.a)({},e.forgotPassword),{},{loading:!1,error:t.error})});case E:return Object(u.a)(Object(u.a)({},e),{},{resetPassword:Object(u.a)(Object(u.a)({},e.resetPassword),{},{loading:!0})});case _:return Object(u.a)(Object(u.a)({},e),{},{resetPassword:Object(u.a)(Object(u.a)({},e.resetPassword),{},{loading:!1,success:!0})});case C:return Object(u.a)(Object(u.a)({},e),{},{resetPassword:Object(u.a)(Object(u.a)({},e.resetPassword),{},{loading:!1,error:t.error})});case w:return Object(u.a)(Object(u.a)({},e),{},{changePassword:Object(u.a)(Object(u.a)({},e.changePassword),{},{loading:!0})});case S:return Object(u.a)(Object(u.a)({},e),{},{changePassword:Object(u.a)(Object(u.a)({},e.changePassword),{},{loading:!1,success:!0})});case N:return Object(u.a)(Object(u.a)({},e),{},{changePassword:Object(u.a)(Object(u.a)({},e.changePassword),{},{loading:!1,error:t.error})});default:return e}},T="GET_DISTRICT_REQUEST",P="GET_DISTRICT_SUCCESS",I="GET_DISTRICT_ERROR",A="UPDATE_DISTRICT_REQUEST",U="UPDATE_DISTRICT_SUCCESS",L="UPDATE_DISTRICT_ERROR",F="DELETE_DISTRICT_REQUEST",G="DELETE_DISTRICT_SUCCESS",q="DELETE_DISTRICT_ERROR",M="FETCH_DISTRICTS_REQUEST",H="FETCH_DISTRICTS_SUCCESS",Q="FETCH_DISTRICTS_ERROR",W="CREATE_DISTRICT_REQUEST",B="CREATE_DISTRICT_SUCCESS",V="CREATE_DISTRICT_ERROR",K="GENERATE_CODE_REQUEST",z="GENERATE_CODE_SUCCESS",J="GENERATE_CODE_ERROR",X={loading:!1,error:"",success:!1},Y={districts:Object(u.a)(Object(u.a)({},X),{},{data:[]}),getDistrict:Object(u.a)(Object(u.a)({},X),{},{data:null}),updateDistrict:Object(u.a)(Object(u.a)({},X),{},{data:null}),deleteDistrict:Object(u.a)({},X),createDistrict:Object(u.a)(Object(u.a)({},X),{},{data:null}),generateCode:Object(u.a)(Object(u.a)({},X),{},{data:null})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(u.a)(Object(u.a)({},e),{},{getDistrict:Object(u.a)(Object(u.a)({},e.getDistrict),{},{loading:!0})});case P:return Object(u.a)(Object(u.a)({},e),{},{getDistrict:Object(u.a)(Object(u.a)({},e.getDistrict),{},{loading:!1,success:!0,data:t.payload})});case I:return Object(u.a)(Object(u.a)({},e),{},{getDistrict:Object(u.a)(Object(u.a)({},e.getDistrict),{},{loading:!1,error:t.error})});case A:return Object(u.a)(Object(u.a)({},e),{},{updateDistrict:Object(u.a)(Object(u.a)({},e.updateDistrict),{},{loading:!0})});case U:var a=e.districts.data.filter((function(e){return e.id!=t.payload.id}));return a.push(t.payload),Object(u.a)(Object(u.a)({},e),{},{updateDistrict:Object(u.a)(Object(u.a)({},e.updateDistrict),{},{loading:!1,success:!0,data:t.payload}),districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!1,success:!0,data:a})});case L:return Object(u.a)(Object(u.a)({},e),{},{updateDistrict:Object(u.a)(Object(u.a)({},e.updateDistrict),{},{loading:!1,error:t.error})});case F:return Object(u.a)(Object(u.a)({},e),{},{deleteDistrict:Object(u.a)(Object(u.a)({},e.deleteDistrict),{},{loading:!0})});case G:var c=e.districts.data.filter((function(e){return e.id!=t.payload}));return Object(u.a)(Object(u.a)({},e),{},{deleteDistrict:Object(u.a)(Object(u.a)({},e.deleteDistrict),{},{loading:!1,success:!0}),districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!1,success:!0,data:c})});case q:return Object(u.a)(Object(u.a)({},e),{},{deleteDistrict:Object(u.a)(Object(u.a)({},e.deleteDistrict),{},{loading:!1,error:t.error})});case M:return Object(u.a)(Object(u.a)({},e),{},{districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!0})});case H:return Object(u.a)(Object(u.a)({},e),{},{districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!1,success:!0,data:t.payload})});case Q:return Object(u.a)(Object(u.a)({},e),{},{districts:Object(u.a)(Object(u.a)({},e.districts),{},{loading:!1,error:t.error})});case W:return Object(u.a)(Object(u.a)({},e),{},{createDistrict:Object(u.a)(Object(u.a)({},e.createDistrict),{},{loading:!0})});case B:var r=e.districts.data;return r.push(t.payload),Object(u.a)(Object(u.a)({},e),{},{createDistrict:Object(u.a)(Object(u.a)({},e.createDistrict),{},{loading:!1,success:!0,data:t.payload}),districts:Object(u.a)(Object(u.a)({},e.districts),{},{data:r})});case V:return Object(u.a)(Object(u.a)({},e),{},{createDistrict:Object(u.a)(Object(u.a)({},e.createDistrict),{},{loading:!1,error:t.error})});case K:return Object(u.a)(Object(u.a)({},e),{},{generateCode:Object(u.a)(Object(u.a)({},e.generateCode),{},{loading:!0})});case z:return Object(u.a)(Object(u.a)({},e),{},{generateCode:Object(u.a)(Object(u.a)({},e.generateCode),{},{loading:!1,success:!0,data:t.payload})});case J:return Object(u.a)(Object(u.a)({},e),{},{generateCode:Object(u.a)(Object(u.a)({},e.generateCode),{},{loading:!1,error:t.error})});default:return e}},$="GET_USER_REQUEST",ee="GET_USER_SUCCESS",te="GET_USER_ERROR",ae="FETCH_USERS_REQUEST",ce="FETCH_USERS_SUCCESS",re="FETCH_USERS_ERROR",se={loading:!1,error:"",success:!1},ne={user:Object(u.a)(Object(u.a)({},se),{},{data:null}),users:Object(u.a)(Object(u.a)({},se),{},{data:[]})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{loading:!0})});case ee:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{loading:!1,success:!0,data:t.payload})});case te:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{loading:!1,error:t.error})});case ae:return Object(u.a)(Object(u.a)({},e),{},{users:Object(u.a)(Object(u.a)({},e.user),{},{loading:!0})});case ce:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.users),{},{loading:!1,success:!0,data:t.payload})});case re:return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.users),{},{loading:!1,error:t.error})});default:return e}},oe="FETCH_ADMINS_REQUEST",de="FETCH_ADMINS_SUCCESS",le="FETCH_ADMINS_ERROR",be={admins:Object(u.a)(Object(u.a)({},{loading:!1,error:"",success:!1}),{},{data:[]})},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!0})});case de:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!1,success:!0,data:t.payload})});case le:return Object(u.a)(Object(u.a)({},e),{},{admins:Object(u.a)(Object(u.a)({},e.admins),{},{loading:!1,error:t.error})});default:return e}},ue=a(4),Oe=a.n(ue),me=a(5),pe=a(12),he=a(16),fe=a.n(he),xe=a(37),ge=a.n(xe),ve=a(55),ye=Object(ve.setupCache)({maxAge:864e5}),we=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL,Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return fe.a.get(e)},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csrftoken";return fe.a.get(e)},Ee=ge.a.create({baseURL:we,timeout:8e4,adapter:ye.adapter});Ee.interceptors.request.use(function(){var e=Object(pe.a)(Oe.a.mark((function e(t){var a,c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Se("token"),c=Ne("csrftoken"),a&&(t.headers.Authorization="Token ".concat(a)),t.headers["X-CSRFToken"]=c,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),Ee.interceptors.response.use((function(e){return e.data}),(function(e){return e&&e.response&&401===e.response.status&&console.error("ERR",e),Promise.reject(e)}));var _e=a(27),Ce=function(e,t){var a;if(500===(null===(a=e.response)||void 0===a?void 0:a.status))return"Please contact support team.";var c=e.response&&e.response.data;return c?Re(c):"Something went wrong, please try again later"},Re=function(e){var t=[];return Object.keys(e).forEach((function(a){return t=[].concat(Object(_e.a)(t),Object(_e.a)(function(e){if(!Object.keys(e).length||"string"===typeof e)return e;var t=[];return Array.isArray(e)&&e.length?t=[e[0].message].concat(Object(_e.a)(e)):Object.keys(e).forEach((function(a){return t=[].concat(Object(_e.a)(t),[e[a]])})),t.filter((function(e){return e}))}(e[a])))})),t},De=Oe.a.mark(Ue),ke=Oe.a.mark(Ge),Te=Oe.a.mark(He),Pe=Oe.a.mark(Be);function Ie(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(pe.a)(Oe.a.mark((function e(t){var a,c,r,s,n,i,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.first_name,c=t.last_name,r=t.email,s=t.phone_no,n=t.password,i=t.confirm_password,o=t.employer_code,e.next=3,Ee.post("rest-auth/registration/",{first_name:a,last_name:c,email:r,phone:s,password1:n,password2:i,employer_code:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){var t;return Oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(me.b)(Ie,t);case 4:if(!a.sent){a.next=8;break}return a.next=8,Object(me.c)({type:m});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,Object(me.c)({type:p,error:Ce(a.t0)});case 14:case"end":return a.stop()}}),De,null,[[1,10]])}function Le(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(pe.a)(Oe.a.mark((function e(t){var a,c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,e.next=3,Ee.post("rest-auth/login/",{email:a,password:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){var t,a,c;return Oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(me.b)(Le,t);case 4:if(!(a=r.sent).key){r.next=10;break}return c={path:"/"},fe.a.set("token",a.key,c),r.next=10,Object(me.c)({type:f});case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(me.c)({type:x,error:Ce(r.t0)});case 16:case"end":return r.stop()}}),ke,null,[[1,12]])}function qe(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(pe.a)(Oe.a.mark((function e(t){var a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,e.next=3,Ee.post("rest-auth/password/reset/",{email:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){var t,a,c;return Oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(me.b)(qe,{email:t});case 4:if(a=r.sent,c=a.data,200!==a.status||"OK"!==c.status){r.next=10;break}return r.next=10,Object(me.c)({type:v});case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,Object(me.c)({type:y,error:Ce(r.t0)});case 16:case"end":return r.stop()}}),Te,null,[[1,12]])}function Qe(e){return We.apply(this,arguments)}function We(){return(We=Object(pe.a)(Oe.a.mark((function e(t){var a,c,r,s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uuid,c=t.token,r=t.password,s=t.confirm_password,e.next=3,Ee.post("/rest-auth/password/reset/confirm/",{uuid:a,token:c,new_password1:r,new_password2:s});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){var t,a;return Oe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(me.b)(Qe,t);case 4:if(a=c.sent,200!==a.status){c.next=9;break}return c.next=9,Object(me.c)({type:_});case 9:c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(me.c)({type:C,error:Ce(c.t0)});case 15:case"end":return c.stop()}}),Pe,null,[[1,11]])}var Ve=Object(me.a)([Object(me.d)(O,Ue),Object(me.d)(h,Ge),Object(me.d)(g,He),Object(me.d)(E,Be)]),Ke=function(){return!!fe.a.get("token")},ze=function(){return{headers:{Authorization:"Basic "+fe.a.get("token")}}},Je=Oe.a.mark(ct),Xe=Oe.a.mark(nt),Ye=Oe.a.mark(dt),Ze=Oe.a.mark(jt),$e=Oe.a.mark(mt),et=Oe.a.mark(ft);function tt(e){return at.apply(this,arguments)}function at(){return(at=Object(pe.a)(Oe.a.mark((function e(t){var a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,Ee.get("/api/v1/district/".concat(a,"/"),ze());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){var t,a;return Oe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(me.b)(tt,t);case 4:if(!(a=c.sent)){c.next=8;break}return c.next=8,Object(me.c)({type:P,payload:a});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(me.c)({type:I,error:Ce(c.t0)});case 14:case"end":return c.stop()}}),Je,null,[[1,10]])}function rt(e){return st.apply(this,arguments)}function st(){return(st=Object(pe.a)(Oe.a.mark((function e(t){var a,c,r,s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,c=t.name,t.logo,r=t.code,s=t.admins,e.next=3,Ee.patch("/api/v1/district/".concat(a,"/"),{name:c,code:r,admins:s},ze());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){var t,a;return Oe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(me.b)(rt,t);case 4:if(a=c.sent,jt(),!a){c.next=9;break}return c.next=9,Object(me.c)({type:U,payload:a});case 9:c.next=15;break;case 11:return c.prev=11,c.t0=c.catch(1),c.next=15,Object(me.c)({type:L,error:Ce(c.t0)});case 15:case"end":return c.stop()}}),Xe,null,[[1,11]])}function it(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(pe.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.delete("/api/v1/district/".concat(t,"/"),ze());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e){var t;return Oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(me.b)(it,t);case 4:return a.sent,a.next=7,Object(me.c)({type:G,payload:t});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(me.c)({type:q,error:Ce(a.t0)});case 13:case"end":return a.stop()}}),Ye,null,[[1,9]])}function lt(){return bt.apply(this,arguments)}function bt(){return(bt=Object(pe.a)(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.get("/api/v1/district/",ze());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){var e;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(me.b)(lt);case 3:if(!(e=t.sent)){t.next=7;break}return t.next=7,Object(me.c)({type:H,payload:e});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(me.c)({type:Q,error:Ce(t.t0)});case 13:case"end":return t.stop()}}),Ze,null,[[0,9]])}function ut(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(pe.a)(Oe.a.mark((function e(t){var a,c,r,s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,c=t.code,r=t.logo,s=t.admins,e.next=3,Ee.post("/api/v1/district/",{name:a,code:c,logo:r,admins:s},ze());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e){var t,a;return Oe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(me.b)(ut,t);case 4:if(!(a=c.sent)){c.next=8;break}return c.next=8,Object(me.c)({type:B,payload:a});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(me.c)({type:V,error:Ce(c.t0)});case 14:case"end":return c.stop()}}),$e,null,[[1,10]])}function pt(){return ht.apply(this,arguments)}function ht(){return(ht=Object(pe.a)(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.get("/api/v1/district/district-code/",ze());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){var e;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(me.b)(pt);case 3:if(!(e=t.sent)){t.next=7;break}return t.next=7,Object(me.c)({type:z,payload:e.code});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(me.c)({type:J,error:Ce(t.t0)});case 13:case"end":return t.stop()}}),et,null,[[0,9]])}var xt=Object(me.a)([Object(me.d)(T,ct),Object(me.d)(A,nt),Object(me.d)(F,dt),Object(me.d)(M,jt),Object(me.d)(W,mt),Object(me.d)(K,ft)]),gt=Oe.a.mark(wt);function vt(){return yt.apply(this,arguments)}function yt(){return(yt=Object(pe.a)(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.get("/api/v1/admin-users/",ze());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(){var e;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(me.b)(vt);case 3:if(!(e=t.sent)){t.next=7;break}return t.next=7,Object(me.c)({type:de,payload:e});case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(me.c)({type:le,error:Ce(t.t0)});case 13:case"end":return t.stop()}}),gt,null,[[0,9]])}var St=Object(me.a)([Object(me.d)(oe,wt)]),Nt=Oe.a.mark(Et);function Et(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Ve,xt,St]);case 2:case"end":return e.stop()}}),Nt)}var _t=Object(j.a)(),Ct=[],Rt=Object(b.a)(),Dt=[Rt,Object(l.a)(_t)];var kt=a(33),Tt=(a(51),a(29),a(36),a(15)),Pt=a(7),It=a.p+"static/media/device.b0b4739f.jpg",At=a(0),Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csrftoken";return fe.a.get(e)},Lt=function(){return Object(At.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:Ut})},Ft=(a(89),a(18)),Gt=a.n(Ft),qt=function(){var e=Object(i.d)(),t=Object(kt.f)(),a=Object(i.e)((function(e){return e.auth})).login,r=(a.loading,a.success);a.error;Object(c.useEffect)((function(){r&&t.push("/dashboard")}),[r]);var s=Object(c.useState)({email:"",password:""}),n=Object(Pt.a)(s,2),o=n[0],d=n[1],l=Object(c.useState)(""),b=Object(Pt.a)(l,2),j=b[0],O=b[1],m=Object(c.useState)(!1),p=Object(Pt.a)(m,2),f=(p[0],p[1]),x=function(e){var t=e.target,a=t.name,c=t.value;d(Object(u.a)(Object(u.a)({},o),{},Object(Tt.a)({},a,c)))};return Object(At.jsxs)("div",{class:"device-holder d-flex h-100",children:[Object(At.jsxs)("div",{class:"image-holder flex-fill",children:[Object(At.jsx)("img",{src:It,class:"image-responsive form-image"}),Object(At.jsxs)("div",{class:"image-caption",children:[Object(At.jsxs)("div",{class:"caption-head",children:[Object(At.jsx)("h2",{children:"Cleaning Services"}),Object(At.jsx)("p",{children:"A one line description of company\u2019s motto"})]}),Object(At.jsxs)("div",{class:"caption-footer",children:[Object(At.jsx)("a",{href:"#",class:"new-user d-inline-block",children:"New User ?"}),Object(At.jsx)("a",{class:"btn btn-light w-100",href:"/signup",role:"button",children:"Sign up"})]})]})]}),Object(At.jsxs)("div",{class:"align-items-center d-flex flex-fill justify-content-center login-content",children:[Object(At.jsxs)("div",{class:"login-holder",children:[Object(At.jsx)("h2",{children:"Login"}),Object(At.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),!0===t.currentTarget.checkValidity()?e({type:h,payload:o}):f(!0)},children:[Object(At.jsx)(Lt,{}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating mb-3 go-bottom",children:[Object(At.jsx)("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"sample@example.com",name:"email",value:o.email,onChange:x,required:!0}),Object(At.jsx)("label",{for:"name",children:"Email address"})]})}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating",children:[Object(At.jsx)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password",name:"password",value:o.password,onChange:x,required:!0}),Object(At.jsx)("label",{for:"floatingPassword",children:"Password"})]})}),Object(At.jsxs)("div",{class:"mb-4 form-check d-flex justify-content-between",children:[Object(At.jsxs)("div",{children:[Object(At.jsx)("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1"}),Object(At.jsx)("label",{class:"form-check-label",for:"exampleCheck1",children:"Remember me"})]}),Object(At.jsx)("a",{href:"#",class:"forgot-link","data-bs-toggle":"modal","data-bs-target":"#resetModal",children:"Forgot Password ?"})]}),Object(At.jsx)("button",{type:"submit",class:"btn btn-primary w-100",children:"Continue"})]})]}),Object(At.jsx)("div",{class:"modal fade",id:"resetModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(At.jsx)("div",{class:"modal-holder",children:Object(At.jsx)("div",{class:"modal-dialog",children:Object(At.jsx)("div",{class:"modal-content",children:Object(At.jsxs)("div",{class:"modal-body",children:[Object(At.jsx)("h2",{class:"modal-title",id:"exampleModalLabel",children:"Forgot Password"}),Object(At.jsx)("p",{class:"modal-details",children:"Password reset link will be sent to your verified email address"}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating mb-3 go-bottom",children:[Object(At.jsx)("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"sample@example.com",onChange:function(e){var t=e.target.value;O(t)},value:j,required:!0}),Object(At.jsx)("label",{for:"name",children:"Email address"})]})}),Object(At.jsx)("button",{type:"button",class:"btn btn-primary w-100",onClick:function(){""!=j&&(Gt()(".modal").modal("hide"),Gt()("body").removeClass("modal-open"),Gt()(".modal-backdrop").remove(),e({type:g,payload:j}),t.push("/reset-password"))},children:"Submit"})]})})})})})]})]})};var Mt=a.p+"static/media/eye.e6d26664.svg",Ht=a.p+"static/media/top.c758e01a.jpg",Qt=(a(90),function(){var e=Object(i.d)(),t=(Object(kt.f)(),Object(i.e)((function(e){return e.auth})).resetPassword);t.loading,t.success,t.error;Object(c.useEffect)((function(){var e=document.querySelector("#togglePassword"),t=document.querySelector("#togglePasswordConfirm"),a=document.querySelector("#password"),c=document.querySelector("#confirmPassword");e.addEventListener("click",(function(e){var t="password"===a.getAttribute("type")?"text":"password";a.setAttribute("type",t)})),t.addEventListener("click",(function(e){var t="password"===c.getAttribute("type")?"text":"password";c.setAttribute("type",t)}))}),[]);var a=Object(c.useState)({password:"",confirm_password:""}),r=Object(Pt.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(!1),d=Object(Pt.a)(o,2),l=(d[0],d[1]),b=function(e){var t=e.target,a=t.name,c=t.value;n(Object(u.a)(Object(u.a)({},s),{},Object(Tt.a)({},a,c)))};return Object(At.jsx)("div",{class:"reset-password ",children:Object(At.jsxs)("div",{class:"reset-password-holder",children:[Object(At.jsxs)("div",{class:"banner",children:[Object(At.jsx)("img",{src:Ht,alt:"",class:"image-responsive"}),Object(At.jsxs)("div",{class:"caption-head",children:[Object(At.jsx)("h2",{children:"Cleaning Services"}),Object(At.jsx)("p",{children:"A one line description of company\u2019s motto"})]})]}),Object(At.jsxs)("div",{class:"form-holder",children:[Object(At.jsx)("h2",{children:"Password Reset"}),Object(At.jsx)("div",{class:"form-box",children:Object(At.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),!0===t.currentTarget.checkValidity()?e({type:E,payload:s}):l(!0)},children:[Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating password-holder",children:[Object(At.jsx)("input",{type:"password",class:"form-control",id:"password",placeholder:"New Password",name:"password",value:s.password,onChange:b,required:!0}),Object(At.jsx)("label",{for:"floatingPassword",children:"New Password"}),Object(At.jsx)("img",{src:Mt,alt:"",class:"image-responsive eye-icon",id:"togglePassword"})]})}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating password-holder",children:[Object(At.jsx)("input",{type:"password",class:"form-control",id:"confirmPassword",placeholder:"Confirm Password",name:"confirm_password",value:s.confirm_password,onChange:b,required:!0}),Object(At.jsx)("label",{for:"floatingPassword",children:"Confirm Password"}),Object(At.jsx)("img",{src:Mt,alt:"",class:"image-responsive eye-icon",id:"togglePasswordConfirm"})]})}),Object(At.jsx)("button",{type:"submit",class:"btn btn-primary w-100",children:"Submit"})]})})]})]})})}),Wt=(a(52),a.p+"static/media/logo.1220db72.svg"),Bt=a.p+"static/media/user-button.0521d8a5.svg",Vt=a.p+"static/media/plus-icon.50493646.svg",Kt=function(){return Object(At.jsxs)("div",{className:"d-flex flex-column justify-content-between p-3 section-header",children:[Object(At.jsxs)("div",{className:"d-flex justify-content-between top-header",children:[Object(At.jsx)("div",{className:"logo-holder",children:Object(At.jsx)("img",{src:Wt,alt:"",className:"image-responsive"})}),Object(At.jsx)("div",{className:"user-button",children:Object(At.jsx)("img",{src:Bt,alt:"",className:"image-responsive"})})]}),Object(At.jsxs)("div",{className:"align-items-center bottom-header d-flex justify-content-between",children:[Object(At.jsx)("div",{className:"header-content",children:Object(At.jsx)("h3",{children:"District details"})}),Object(At.jsx)("div",{className:"header-button",children:Object(At.jsxs)("a",{href:"#",className:"btn btn-outline-secondary d-flex align-items-center text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_District",children:[Object(At.jsx)("img",{src:Vt,alt:"",className:"image-responsive"}),Object(At.jsx)("span",{children:"District"})]})})]})]})},zt=a.p+"static/media/error-icon.7d926bb4.svg",Jt=a.p+"static/media/delete-icon.7e21597e.svg",Xt=a.p+"static/media/plus-icon.50493646.svg",Yt=function(e){return{type:A,payload:e}},Zt=function(e){return{type:M,payload:e}},$t=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.district})).districts,r=(a.loading,a.success,a.error,a.data,Object(c.useState)(null)),s=Object(Pt.a)(r,2),n=s[0],o=s[1],d=Object(c.useState)("Overview"),l=Object(Pt.a)(d,2);l[0],l[1];Object(c.useEffect)((function(){var t;t=e.district,o(t)}),[e]);var b=function(){return Object(At.jsx)("div",{className:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"Overview",children:Object(At.jsxs)("ul",{className:"p-0",children:[Object(At.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(At.jsx)("div",{className:"name",children:Object(At.jsx)("span",{children:"District name"})}),Object(At.jsx)("div",{className:"value",children:Object(At.jsx)("span",{children:n.name})})]}),Object(At.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(At.jsx)("div",{className:"name",children:Object(At.jsx)("span",{children:"District code"})}),Object(At.jsx)("div",{className:"value",children:Object(At.jsx)("span",{children:n.code})})]}),Object(At.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(At.jsx)("div",{className:"name",children:Object(At.jsx)("span",{children:"Buildings"})}),Object(At.jsx)("div",{className:"value",children:Object(At.jsx)("span",{children:n.buildings||0})})]}),Object(At.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(At.jsx)("div",{className:"name",children:Object(At.jsx)("span",{children:"Rooms"})}),Object(At.jsx)("div",{className:"value",children:Object(At.jsx)("span",{children:n.rooms||0})})]}),Object(At.jsxs)("li",{className:"border-bottom d-flex justify-content-between px-3 py-3",children:[Object(At.jsx)("div",{className:"name",children:Object(At.jsx)("span",{children:"Sq. ft."})}),Object(At.jsx)("div",{className:"value",children:Object(At.jsx)("span",{children:n.sq_feet||0})})]})]})})},j=function(){return Object(At.jsx)("div",{className:"tab-pane fade",id:"admin",role:"tabpanel","aria-labelledby":"Admin",children:Object(At.jsxs)("ul",{className:"p-0",children:[n.admin_detail.map((function(a){return Object(At.jsxs)("li",{className:"border-bottom d-flex justify-content-between p-2 pb-3 pt-3",children:[Object(At.jsx)("div",{className:"name",children:Object(At.jsx)("span",{children:a.name})}),Object(At.jsxs)("div",{className:"icon-holder d-flex justify-content-end",children:[Object(At.jsx)("img",{src:Jt,alt:"",className:"image-responsive delete-icon",onClick:function(){return function(a){var c=e.district.admins.filter((function(e){return e!=a.id})),r=e.district.admin_detail.filter((function(e){return e.id!=a.id}));t(Yt({id:e.district.id,admins:c})),e.district.admins=c,e.district.admin_detail=r,o(e.district)}(a)}}),Object(At.jsx)("a",{href:"#",className:"align-items-center border-0 d-flex m-auto text-uppercase","data-bs-toggle":"modal","data-bs-target":"#info-modal",children:Object(At.jsx)("img",{src:zt,alt:"",className:"image-responsive error-icon",onClick:function(){return e.onAdminSelected(a)}})})]})]},a.id)})),Object(At.jsx)("li",{className:"d-flex justify-content-between p-2 pb-3 pt-3 add-admin-link",children:Object(At.jsxs)("a",{href:"#",className:"align-items-center border-0 btn btn-outline-secondary d-flex m-auto text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_admin",children:[Object(At.jsx)("img",{src:Xt,alt:"",className:"image-responsive"}),Object(At.jsx)("span",{children:"ADD ADMIN"})]})})]})})},u=function(){return Object(At.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[Object(At.jsx)(j,{}),Object(At.jsx)(b,{})]})};return Object(At.jsxs)("div",{id:"side-bar-tabs",className:"tabs-holder","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:[Object(At.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(At.jsx)("li",{className:"nav-item",role:"presentation",children:Object(At.jsx)("button",{className:"nav-link py-3 active",id:"Overview","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true",children:"Overview"})}),Object(At.jsx)("li",{className:"nav-item",role:"presentation",children:Object(At.jsx)("button",{className:"nav-link py-3",id:"Admin","data-bs-toggle":"tab","data-bs-target":"#admin",type:"button",role:"tab","aria-controls":"admin","aria-selected":"false",children:"Admins"})})]}),null!==n&&Object(At.jsx)(u,{})]})},ea=a.p+"static/media/email-icon.d56376ac.svg",ta=a.p+"static/media/phone-number.8cbe82c1.svg",aa=function(e){var t=Object(c.useState)(null),a=Object(Pt.a)(t,2),r=(a[0],a[1]);return Object(c.useEffect)((function(){r(e.admin)}),[e]),Object(At.jsx)("div",{className:"modal fade",id:"info-modal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(At.jsx)("div",{className:"modal-holder",children:Object(At.jsx)("div",{className:"modal-dialog",children:Object(At.jsx)("div",{className:"modal-content",children:Object(At.jsx)("div",{className:"modal-body",children:Object(At.jsxs)("ul",{className:"admin-info m-0",children:[Object(At.jsx)("li",{children:Object(At.jsx)("div",{className:"mb-2",children:Object(At.jsx)("div",{children:Object(At.jsx)("h4",{className:"m-0",children:e.admin.name})})})}),Object(At.jsx)("li",{children:Object(At.jsxs)("div",{className:"mb-2 d-flex",children:[Object(At.jsx)("div",{className:"icon-holder",children:Object(At.jsx)("img",{src:ea,alt:"",className:"image-responsive"})}),Object(At.jsx)("div",{className:"admin-email",children:e.admin.email})]})}),Object(At.jsx)("li",{children:Object(At.jsxs)("div",{className:"mb-2 d-flex",children:[Object(At.jsx)("div",{className:"icon-holder",children:Object(At.jsx)("img",{src:ta,alt:"",className:"image-responsive"})}),Object(At.jsx)("div",{className:"admin-phone",children:Object(At.jsx)("a",{href:"tel: 9876543210 ",children:e.admin.phone})})]})})]})})})})})})},ca=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.district})).generateCode,r=(a.loading,a.success),s=(a.error,a.data);Object(i.e)((function(e){return e.district}));Object(c.useEffect)((function(){var e;t({type:K,payload:e}),x()}),[]);var n=Object(c.useState)(!1),o=Object(Pt.a)(n,2),d=(o[0],o[1]),l=Object(c.useState)({name:"",logo:"",code:"",admins:[]}),b=Object(Pt.a)(l,2),j=b[0],O=b[1],m=Object(c.useState)(""),p=Object(Pt.a)(m,2),h=p[0],f=p[1],x=function(){r&&O(Object(u.a)(Object(u.a)({},j),{},{code:s}))},g=function(){var e=Object(pe.a)(Oe.a.mark((function e(t){var a,c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,v(a);case 3:c=e.sent,f(c),O(Object(u.a)(Object(u.a)({},j),{},{logo:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return new Promise((function(t,a){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){t(c.result)},c.onerror=function(e){a(e)}}))};return Object(At.jsx)("div",{className:"modal fade",id:"add_District",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(At.jsx)("div",{className:"modal-holder",children:Object(At.jsx)("div",{className:"modal-dialog",children:Object(At.jsx)("div",{className:"modal-content",children:Object(At.jsx)("div",{className:"modal-body",children:Object(At.jsxs)("form",{onSubmit:function(e){var a;e.preventDefault(),e.stopPropagation(),!0===e.currentTarget.checkValidity()?(t((a={name:j.name,logo:h,code:s,admins:[]},{type:W,payload:a})),O({name:"",logo:"",code:""}),f("")):d(!0)},children:[Object(At.jsx)(Lt,{}),Object(At.jsx)("h2",{className:"modal-title mb-4",id:"exampleModalLabel",children:"Add District"}),Object(At.jsx)("div",{className:"mb-4",children:Object(At.jsxs)("div",{className:"form-floating mb-3 go-bottom",children:[Object(At.jsx)("input",{type:"text",className:"form-control",name:"name",value:j.name,onChange:function(e){var t=e.target,a=t.name,c=t.value;O(Object(u.a)(Object(u.a)({},j),{},Object(Tt.a)({},a,c)))},required:!0,id:"floatingInput",placeholder:"District Name"}),Object(At.jsx)("label",{htmlFor:"name",children:"District Name"})]})}),Object(At.jsxs)("div",{className:"logo-uploader mb-4",children:[Object(At.jsxs)("div",{className:"logo-uploader-header d-flex align-items-center justify-content-between mb-3",children:[Object(At.jsx)("div",{children:"District logo"}),Object(At.jsx)("input",{type:"file",onChange:g,required:!0,id:"select-image",className:"btn btn-outline-secondary",style:{display:"none"}}),Object(At.jsx)("label",{for:"select-image",className:"btn btn-outline-secondary btn-lg d-flex align-items-center text-uppercase",children:"Select image"})]}),Object(At.jsx)("div",{className:"logo-uploader-area",children:""==h?Object(At.jsx)("p",{children:"Drag & drop the image in this section"}):Object(At.jsx)("img",{src:h,height:"100px"})})]}),Object(At.jsx)("div",{className:"mb-4",children:Object(At.jsxs)("div",{className:"form-floating mb-3 go-bottom",children:[Object(At.jsx)("input",{type:"text",name:"code",value:s,onChange:function(e){var t=e.target.value;O(Object(u.a)(Object(u.a)({},j),{},{code:t}))},className:"form-control",id:"floatingInput",placeholder:"District code"}),Object(At.jsx)("label",{htmlFor:"name",children:"District code"})]})}),Object(At.jsx)("button",{type:"submit",className:"btn btn-primary text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_District",children:"Create"})]})})})})})})},ra=function(){return Object(At.jsx)("div",{id:"side-bar-description",className:"d-flex align-items-center justify-content-center h-100 d-none",children:Object(At.jsx)("p",{children:"Select a district to view details"})})},sa=function(e){return{type:oe,payload:e}},na=a.p+"static/media/arrow-right.7a1394ea.svg",ia=(a.p,a.p+"static/media/dotted-icon.d969cbdd.svg"),oa=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.district})).deleteDistrict,s=(a.loading,a.success,a.error,Object(c.useState)(!1)),n=Object(Pt.a)(s,2);n[0],n[1];return Object(At.jsx)(r.a.Fragment,{children:Object(At.jsxs)("div",{className:"district-box",children:[Object(At.jsx)("div",{className:"image-holder",children:Object(At.jsx)("img",{src:e.district.logo,alt:"",className:"w-100"})}),Object(At.jsxs)("div",{className:"d-flex district-box-footer align-items-center px-4 w-100 py-2 justify-content-between",style:e.selected===e.district.id?{backgroundColor:"#B4DBDB"}:{},children:[Object(At.jsxs)("div",{className:"content d-flex",children:[Object(At.jsx)("div",{className:"icon",type:"button",children:Object(At.jsx)("img",{src:na,alt:"",className:"image-responsive",id:e.district.id,value:e.district.id,onClick:e.onSelectDistrict})}),Object(At.jsx)("span",{children:e.district.name})]}),Object(At.jsxs)("div",{className:"dropdown",children:[Object(At.jsx)("button",{className:"dropdown btn btn-secondary dropdown-toggle p-0",style:{width:"25px"},type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(At.jsx)("img",{src:ia,alt:"",className:"image-responsive"})}),Object(At.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuButton1",children:[Object(At.jsx)("li",{children:Object(At.jsx)("a",{className:"dropdown-item",onClick:function(){e.onEditDistrict(e.district),Gt()("#update_District").modal("show")},children:"Edit details"})}),Object(At.jsx)("li",{children:Object(At.jsx)("a",{className:"dropdown-item",onClick:function(){var a;t((a=e.district.id,{type:F,payload:a}))},children:"Delete district"})})]})]})]})]})})},da=function(e){var t=Object(i.d)();Object(c.useEffect)((function(){l({name:e.district.name,logo:e.district.logo,code:e.district.code,admins:e.district.admins}),m(e.district.logo)}),[]);var a=Object(c.useState)(!1),r=Object(Pt.a)(a,2),s=(r[0],r[1]),n=Object(c.useState)({name:"",logo:"",code:"E4125",admins:[]}),o=Object(Pt.a)(n,2),d=o[0],l=o[1],b=Object(c.useState)(""),j=Object(Pt.a)(b,2),O=j[0],m=j[1],p=function(){var e=Object(pe.a)(Oe.a.mark((function e(t){var a,c;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,h(a);case 3:c=e.sent,m(c),l(Object(u.a)(Object(u.a)({},d),{},{logo:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return new Promise((function(t,a){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){t(c.result)},c.onerror=function(e){a(e)}}))},f=function(e){var t=e.target,a=t.name,c=t.value;l(Object(u.a)(Object(u.a)({},d),{},Object(Tt.a)({},a,c)))};return Object(At.jsx)("div",{className:"modal fade",id:"update_District",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(At.jsx)("div",{className:"modal-holder",children:Object(At.jsx)("div",{className:"modal-dialog",children:Object(At.jsx)("div",{className:"modal-content",children:Object(At.jsx)("div",{className:"modal-body",children:Object(At.jsxs)("form",{onSubmit:function(a){a.preventDefault(),a.stopPropagation(),!0===a.currentTarget.checkValidity()?(t(Yt({id:e.district.id,name:d.name,logo:O,code:e.district.code,admins:[]})),Gt()("#update_District").modal("hide"),l({name:"",logo:"",code:""}),m("")):s(!0)},children:[Object(At.jsx)(Lt,{}),Object(At.jsx)("h2",{className:"modal-title mb-4",id:"exampleModalLabel",children:"Update District"}),Object(At.jsx)("div",{className:"mb-4",children:Object(At.jsxs)("div",{className:"form-floating mb-3 go-bottom",children:[Object(At.jsx)("input",{type:"text",className:"form-control",name:"name",value:d.name,onChange:f,id:"floatingInput",placeholder:"District Name"}),Object(At.jsx)("label",{htmlFor:"name",children:"District Name"})]})}),Object(At.jsxs)("div",{className:"logo-uploader mb-4",children:[Object(At.jsxs)("div",{className:"logo-uploader-header d-flex align-items-center justify-content-between mb-3",children:[Object(At.jsx)("div",{children:"District logo"}),Object(At.jsx)("input",{type:"file",onChange:p,id:"select-image",className:"btn btn-outline-secondary",style:{display:"none"}}),Object(At.jsx)("label",{for:"select-image",className:"btn btn-outline-secondary btn-lg d-flex align-items-center text-uppercase",children:"Select image"})]}),Object(At.jsx)("div",{className:"logo-uploader-area",children:""==O?Object(At.jsx)("p",{children:"Drag & drop the image in this section"}):Object(At.jsx)("img",{src:O,height:"100px"})})]}),Object(At.jsx)("div",{className:"mb-4",children:Object(At.jsxs)("div",{className:"form-floating mb-3 go-bottom",children:[Object(At.jsx)("input",{type:"text",name:"code",value:d.code,onChange:f,className:"form-control",id:"floatingInput2",placeholder:"District code"}),Object(At.jsx)("label",{htmlFor:"name",children:"District code"})]})}),Object(At.jsx)("button",{type:"submit",className:"btn btn-primary text-uppercase",children:"Update"})]})})})})})})},la=function(e){var t=Object(i.d)(),a=Object(i.e)((function(e){return e.admin})).admins,r=(a.loading,a.success,a.error,a.data),s=Object(c.useState)([]),n=Object(Pt.a)(s,2),o=(n[0],n[1],Object(c.useState)([])),d=Object(Pt.a)(o,2),l=d[0],b=d[1];Object(c.useEffect)((function(){t(sa()),t(Zt())}),[]);var j=function(e){var t=l,a=e.target.value;if(t.includes(a)){var c=t.indexOf(a);t.splice(c,1),b(t)}else t.push(e.target.value),b(t)};return Object(At.jsx)("div",{className:"modal fade",id:"add_admin",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(At.jsx)("div",{className:"modal-holder",children:Object(At.jsx)("div",{className:"modal-dialog",children:Object(At.jsx)("div",{className:"modal-content",children:Object(At.jsxs)("div",{className:"modal-body",children:[Object(At.jsx)("div",{className:"admin-info m-4",children:r.length>0&&r.map((function(e){return Object(At.jsxs)("div",{className:"d-flex items-center justify-content-between mb-4",children:[Object(At.jsx)("div",{children:e.name}),Object(At.jsx)("div",{children:Object(At.jsx)("input",{type:"checkbox",className:"form-check-input big-checkbox",value:e.id,onChange:j})})]})}))}),Object(At.jsxs)("div",{class:"d-flex justify-content-center align-items-center btn-holder",children:[Object(At.jsx)("button",{type:"button",class:"btn btn-primary text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_admin",onClick:function(a){t(Yt({id:e.districtId,admins:l}))},children:"Save"}),Object(At.jsx)("button",{type:"button",class:"btn btn-primary text-uppercase","data-bs-toggle":"modal","data-bs-target":"#add_admin",children:"Cancel"})]})]})})})})})},ba=function(e){var t=Object(i.d)(),a=(Object(kt.f)(),Object(i.e)((function(e){return e.district})).districts),s=(a.loading,a.success,a.error,a.data),n=Object(i.e)((function(e){return e.admin})).admins;n.loadingAdmins,n.adminSuccess,n.adminError,n.adminData;Object(c.useEffect)((function(){t(Zt()),t(sa())}),[]);var o=Object(c.useState)({id:"",name:"",logo:"",code:""}),d=Object(Pt.a)(o,2),l=d[0],b=d[1],j=Object(c.useState)(!1),u=Object(Pt.a)(j,2),O=u[0],m=u[1],p=Object(c.useState)(0),h=Object(Pt.a)(p,2),f=h[0],x=h[1],g=function(t){var a=t.target.id,c=s.filter((function(e){return e.id==a}))[0];x(c.id),e.onDistrictSelected(c)},v=function(e){b({id:e.id,name:e.name,logo:e.logo,code:e.code}),m(!0)};return Object(At.jsxs)(r.a.Fragment,{children:[Object(At.jsx)("div",{className:"main-content w-100 p-4",children:Object(At.jsx)("div",{className:"district-holder",children:s.length>0&&s.map((function(e){return Object(At.jsx)(oa,{district:e,selected:f,onSelectDistrict:g,onEditDistrict:v},e.id)}))})}),Object(At.jsx)(ca,{}),O&&Object(At.jsx)(da,{district:l}),Object(At.jsx)(la,{districtId:f})]})},ja=[{exact:!0,path:"/",name:"Login",component:qt},{exact:!0,path:"/login",name:"Login",component:qt},{exact:!0,path:"/signup",name:"Signup",component:function(){var e=Object(i.d)(),t=Object(kt.f)(),a=Object(i.e)((function(e){return e.auth})).signup,r=(a.loading,a.success);a.error,Object(c.useEffect)((function(){r&&t.push("/dashboard")}),[r]);var s=Object(c.useState)({first_name:"",last_name:"",email:"",phone_no:"",password:"",confirm_password:"",employer_code:""}),n=Object(Pt.a)(s,2),o=n[0],d=n[1],l=Object(c.useState)(!1),b=Object(Pt.a)(l,2),j=(b[0],b[1]),m=function(e){var t=e.target,a=t.name,c=t.value;d(Object(u.a)(Object(u.a)({},o),{},Object(Tt.a)({},a,c)))};return Object(At.jsxs)("div",{class:"device-holder d-flex h-100",children:[Object(At.jsx)("div",{class:"align-items-center d-flex flex-fill justify-content-center login-content",children:Object(At.jsxs)("div",{class:"login-holder",children:[Object(At.jsx)("h2",{children:"Sign up"}),Object(At.jsxs)("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),!0===t.currentTarget.checkValidity()?e({type:O,payload:o}):j(!0)},children:[Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating mb-3",children:[Object(At.jsx)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"First Name",name:"first_name",value:o.first_name,onChange:m,required:!0}),Object(At.jsx)("label",{for:"name",children:"First Name"})]})}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating",children:[Object(At.jsx)("input",{type:"text",class:"form-control",id:"floatingInput",placeholder:"Lasr Name",name:"last_name",value:o.last_name,onChange:m,required:!0}),Object(At.jsx)("label",{for:"name",children:"Last Name"})]})}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating mb-3 go-bottom",children:[Object(At.jsx)("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"samplee@example.com",name:"email",value:o.email,onChange:m,required:!0}),Object(At.jsx)("label",{for:"name",children:"Email address"})]})}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating",children:[Object(At.jsx)("input",{type:"number",class:"form-control",id:"floatingInput",placeholder:"Phone no",name:"phone_no",value:o.phone_no,onChange:m,required:!0}),Object(At.jsx)("label",{for:"name",children:"Phone no."})]})}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating",children:[Object(At.jsx)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password",name:"password",value:o.password,onChange:m,required:!0}),Object(At.jsx)("label",{for:"floatingPassword",children:"Password"})]})}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating",children:[Object(At.jsx)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Confirm Password",name:"confirm_password",value:o.confirm_password,onChange:m,required:!0}),Object(At.jsx)("label",{for:"floatingPassword",children:"Confirm Password"})]})}),Object(At.jsx)("div",{class:"mb-4",children:Object(At.jsxs)("div",{class:"form-floating",children:[Object(At.jsx)("input",{type:"number",class:"form-control",id:"floatingInput",placeholder:"Employer Code",name:"employer_code",value:o.employer_code,onChange:m,required:!0}),Object(At.jsx)("label",{for:"name",children:"Employer Code"})]})}),Object(At.jsx)("button",{type:"submit",class:"btn btn-primary w-100",children:"REGISTER"})]})]})}),Object(At.jsxs)("div",{class:"image-holder flex-fill",children:[Object(At.jsx)("img",{src:It,alt:"",class:"image-responsive form-image"}),Object(At.jsxs)("div",{class:"image-caption",children:[Object(At.jsxs)("div",{class:"caption-head",children:[Object(At.jsx)("h2",{children:"Cleaning Services"}),Object(At.jsx)("p",{children:"A one line description of company\u2019s motto"})]}),Object(At.jsxs)("div",{class:"caption-footer",children:[Object(At.jsx)("a",{href:"#",class:"new-user d-inline-block",children:"Already registered ?"}),Object(At.jsx)("a",{class:"btn btn-light w-100",href:"/",role:"button",children:"Login"})]})]})]})]})}},{exact:!0,path:"/reset-password",name:"ResetPassword",component:Qt},{exact:!0,path:"/dashboard",name:"Dashboard",component:function(){var e=Object(c.useState)(0),t=Object(Pt.a)(e,2),a=(t[0],t[1],Object(c.useState)(null)),s=Object(Pt.a)(a,2),n=s[0],i=s[1],o=Object(c.useState)({id:"",name:""}),d=Object(Pt.a)(o,2),l=d[0],b=d[1];return Object(At.jsxs)(r.a.Fragment,{children:[Object(At.jsxs)("div",{className:"dashboard",children:[Object(At.jsxs)("div",{id:"siderbar",className:"d-flex flex-column col",children:[Object(At.jsx)(Kt,{}),Object(At.jsx)("div",{className:"inner-section h-100",children:null==n?Object(At.jsx)(ra,{}):Object(At.jsx)($t,{district:n,onAdminSelected:function(e){b(e)}})})]}),Object(At.jsx)(ba,{onDistrictSelected:function(e){i(e)}})]}),Object(At.jsx)(aa,{admin:l})]})},isPrivate:!0}],ua=function(){return ja.map((function(e){return Object(At.jsx)(kt.b,{exact:e.exact,path:e.path,render:function(t){return function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var r=Object(u.a)(Object(u.a)({},e),a);return c?Ke()?Object(At.jsx)(t,Object(u.a)({},r)):Object(At.jsx)(kt.a,{to:"/login"}):Ke()?Object(At.jsx)(kt.a,{to:"/dashboard"}):Object(At.jsx)(t,Object(u.a)({},r))}return null}(t,e.component,e.props,e.isPrivate)}},e.name)}))},Oa=function(){return Object(At.jsx)(kt.d,{children:ua()})},ma=Object(kt.g)((function(){return Object(At.jsx)("div",{children:Object(At.jsx)(Oa,{})})})),pa=function(e){var t,a=Object(d.e)((t=_t,Object(d.c)({router:Object(o.b)(t),auth:k,district:Z,admin:je,user:ie})),e,d.d.apply(void 0,[d.a.apply(void 0,Dt)].concat(Ct)));return Rt.run(Et),a}({});n.a.render(Object(At.jsx)(i.a,{store:pa,children:Object(At.jsx)(o.a,{history:_t,children:Object(At.jsx)("div",{children:Object(At.jsx)(ma,{})})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.e3d5fb85.chunk.js.map